{"id": "veran_basic_001", "category": "explanation", "difficulty": 1, "code": "LDA #$42\nSTA $7E0100", "metadata": {"concepts": ["immediate addressing", "absolute long addressing", "WRAM"]}}
{"id": "veran_basic_002", "category": "explanation", "difficulty": 1, "code": "LDX #$10\nloop:\nDEX\nBNE loop", "metadata": {"concepts": ["loop", "index register", "branch on condition"]}}
{"id": "veran_basic_003", "category": "explanation", "difficulty": 1, "code": "REP #$20\nLDA $10\nSEP #$20", "metadata": {"concepts": ["processor mode", "16-bit accumulator", "zero page"]}}
{"id": "veran_basic_004", "category": "explanation", "difficulty": 1, "code": "CLC\nADC #$05", "metadata": {"concepts": ["carry flag", "addition", "immediate value"]}}
{"id": "veran_basic_005", "category": "explanation", "difficulty": 1, "code": "PHA\nPHX\nJSR routine\nPLX\nPLA", "metadata": {"concepts": ["stack operations", "register preservation", "subroutine call"]}}
{"id": "veran_intermediate_006", "category": "explanation", "difficulty": 2, "code": "LDA #$80\nSTA $2115      ; VMAIN\nREP #$20\nLDA #$6000\nSTA $2116      ; VMADDL/H\nLDA #$1801\nSTA $4300      ; DMAP0 + BBAD0", "metadata": {"concepts": ["VRAM access", "DMA setup", "word writes to registers"]}}
{"id": "veran_intermediate_007", "category": "explanation", "difficulty": 2, "code": "LDA $4212\nAND #$80\nBEQ wait_vblank", "metadata": {"concepts": ["VBLANK detection", "hardware status register", "timing"]}}
{"id": "veran_intermediate_008", "category": "explanation", "difficulty": 2, "code": "LDA $10\nASL A\nASL A\nCLC\nADC $10\nTAX\nLDA table,X", "metadata": {"concepts": ["multiply by 5", "table lookup", "index calculation"]}}
{"id": "veran_advanced_009", "category": "explanation", "difficulty": 3, "code": "; HDMA gradient table\ndb $20, $00    ; 32 lines, color 0\ndb $10, $08    ; 16 lines, color 8\ndb $10, $10    ; 16 lines, color 16\ndb $00         ; End", "metadata": {"concepts": ["HDMA table format", "scanline effects", "color gradients"]}}
{"id": "veran_advanced_010", "category": "explanation", "difficulty": 3, "code": "NMI:\n    REP #$30\n    PHA\n    PHX\n    PHY\n    PHD\n    PHB\n    ; ... NMI code ...\n    PLB\n    PLD\n    PLY\n    PLX\n    PLA\n    RTI", "metadata": {"concepts": ["NMI handler", "register preservation", "interrupt return"]}}
{"id": "veran_expert_011", "category": "explanation", "difficulty": 4, "code": "; Mode 7 matrix setup\nLDA angle\nASL A\nTAX\nLDA m7_cos,X\nSTA $211B\nSTA $211D      ; A and D = cos\nLDA m7_sin,X\nSTA $211C      ; B = sin\nEOR #$FF\nINC A\nSTA $211E      ; C = -sin", "metadata": {"concepts": ["Mode 7", "rotation matrix", "trigonometry", "PPU matrix"]}}
{"id": "veran_instr_012", "category": "instruction", "difficulty": 1, "code": "LDA #$42", "metadata": {"concepts": ["immediate addressing", "accumulator", "load"]}}
{"id": "veran_instr_013", "category": "instruction", "difficulty": 1, "code": "LDA $10", "metadata": {"concepts": ["zero page addressing", "memory read"]}}
{"id": "veran_instr_014", "category": "instruction", "difficulty": 1, "code": "LDA $1000", "metadata": {"concepts": ["absolute addressing", "memory read"]}}
{"id": "veran_instr_015", "category": "instruction", "difficulty": 1, "code": "LDA $7E0100", "metadata": {"concepts": ["long addressing", "WRAM"]}}
{"id": "veran_instr_016", "category": "instruction", "difficulty": 1, "code": "LDA ($10),Y", "metadata": {"concepts": ["indirect indexed addressing", "pointer"]}}
{"id": "veran_instr_017", "category": "instruction", "difficulty": 1, "code": "LDA $10,X", "metadata": {"concepts": ["indexed addressing", "array access"]}}
{"id": "veran_instr_018", "category": "instruction", "difficulty": 1, "code": "STA $2100", "metadata": {"concepts": ["store operation", "hardware register"]}}
{"id": "veran_instr_019", "category": "instruction", "difficulty": 1, "code": "STZ $10", "metadata": {"concepts": ["store zero", "memory clear"]}}
{"id": "veran_instr_020", "category": "instruction", "difficulty": 1, "code": "REP #$20", "metadata": {"concepts": ["mode switch", "16-bit accumulator"]}}
{"id": "veran_instr_021", "category": "instruction", "difficulty": 1, "code": "SEP #$30", "metadata": {"concepts": ["mode switch", "8-bit registers"]}}
{"id": "veran_instr_022", "category": "instruction", "difficulty": 1, "code": "JSR routine", "metadata": {"concepts": ["subroutine call", "stack", "return address"]}}
{"id": "veran_instr_023", "category": "instruction", "difficulty": 1, "code": "JSL $7E8000", "metadata": {"concepts": ["long subroutine call", "bank crossing"]}}
{"id": "veran_instr_024", "category": "instruction", "difficulty": 1, "code": "RTS", "metadata": {"concepts": ["return from subroutine", "stack pop"]}}
{"id": "veran_instr_025", "category": "instruction", "difficulty": 1, "code": "RTL", "metadata": {"concepts": ["return long", "24-bit return"]}}
{"id": "veran_instr_026", "category": "instruction", "difficulty": 1, "code": "BEQ label", "metadata": {"concepts": ["branch on equal", "zero flag"]}}
{"id": "veran_instr_027", "category": "instruction", "difficulty": 1, "code": "BNE label", "metadata": {"concepts": ["branch not equal", "conditional"]}}
{"id": "veran_instr_028", "category": "instruction", "difficulty": 1, "code": "BPL label", "metadata": {"concepts": ["branch positive", "sign flag"]}}
{"id": "veran_instr_029", "category": "instruction", "difficulty": 1, "code": "BMI label", "metadata": {"concepts": ["branch minus", "negative flag"]}}
{"id": "veran_instr_030", "category": "instruction", "difficulty": 1, "code": "BRA label", "metadata": {"concepts": ["unconditional branch", "relative jump"]}}
{"id": "veran_instr_031", "category": "instruction", "difficulty": 1, "code": "BRL label", "metadata": {"concepts": ["branch long", "16-bit offset"]}}
{"id": "veran_instr_032", "category": "instruction", "difficulty": 1, "code": "PHA", "metadata": {"concepts": ["push accumulator", "stack"]}}
{"id": "veran_instr_033", "category": "instruction", "difficulty": 1, "code": "PLA", "metadata": {"concepts": ["pull accumulator", "stack"]}}
{"id": "veran_instr_034", "category": "instruction", "difficulty": 1, "code": "PHX", "metadata": {"concepts": ["push X register", "stack"]}}
{"id": "veran_instr_035", "category": "instruction", "difficulty": 1, "code": "PHP", "metadata": {"concepts": ["push processor flags", "state preservation"]}}
{"id": "veran_instr_036", "category": "instruction", "difficulty": 1, "code": "CLC", "metadata": {"concepts": ["clear carry", "flag manipulation"]}}
{"id": "veran_instr_037", "category": "instruction", "difficulty": 1, "code": "SEC", "metadata": {"concepts": ["set carry", "flag manipulation"]}}
{"id": "veran_instr_038", "category": "instruction", "difficulty": 1, "code": "ASL A", "metadata": {"concepts": ["arithmetic shift left", "multiply by 2"]}}
{"id": "veran_instr_039", "category": "instruction", "difficulty": 1, "code": "LSR A", "metadata": {"concepts": ["logical shift right", "divide by 2"]}}
{"id": "veran_instr_040", "category": "instruction", "difficulty": 1, "code": "ROL A", "metadata": {"concepts": ["rotate left", "carry flag"]}}
{"id": "veran_instr_041", "category": "instruction", "difficulty": 1, "code": "ADC #$10", "metadata": {"concepts": ["add with carry", "arithmetic"]}}
{"id": "veran_instr_042", "category": "instruction", "difficulty": 1, "code": "SBC #$10", "metadata": {"concepts": ["subtract with borrow", "arithmetic"]}}
{"id": "veran_instr_043", "category": "instruction", "difficulty": 1, "code": "CMP #$42", "metadata": {"concepts": ["compare", "flag setting"]}}
{"id": "veran_instr_044", "category": "instruction", "difficulty": 1, "code": "AND #$0F", "metadata": {"concepts": ["bitwise AND", "masking"]}}
{"id": "veran_instr_045", "category": "instruction", "difficulty": 1, "code": "ORA #$80", "metadata": {"concepts": ["bitwise OR", "flag setting"]}}
{"id": "veran_instr_046", "category": "instruction", "difficulty": 1, "code": "EOR #$FF", "metadata": {"concepts": ["exclusive OR", "bit toggle"]}}
{"id": "veran_instr_047", "category": "instruction", "difficulty": 1, "code": "INC $10", "metadata": {"concepts": ["increment memory", "counter"]}}
{"id": "veran_instr_048", "category": "instruction", "difficulty": 1, "code": "DEC $10", "metadata": {"concepts": ["decrement memory", "countdown"]}}
{"id": "veran_instr_049", "category": "instruction", "difficulty": 1, "code": "INX", "metadata": {"concepts": ["increment X", "loop counter"]}}
{"id": "veran_instr_050", "category": "instruction", "difficulty": 1, "code": "DEY", "metadata": {"concepts": ["decrement Y", "loop counter"]}}
{"id": "veran_instr_051", "category": "instruction", "difficulty": 1, "code": "TAX", "metadata": {"concepts": ["transfer A to X", "register copy"]}}
{"id": "veran_instr_052", "category": "instruction", "difficulty": 1, "code": "TXA", "metadata": {"concepts": ["transfer X to A", "register copy"]}}
{"id": "veran_instr_053", "category": "instruction", "difficulty": 1, "code": "XBA", "metadata": {"concepts": ["exchange B and A", "byte swap"]}}
{"id": "veran_instr_054", "category": "instruction", "difficulty": 1, "code": "WAI", "metadata": {"concepts": ["wait for interrupt", "power saving"]}}
{"id": "veran_instr_055", "category": "instruction", "difficulty": 1, "code": "NOP", "metadata": {"concepts": ["no operation", "timing/padding"]}}
{"id": "veran_pattern_056", "category": "pattern", "difficulty": 2, "code": "LDX #$10\nloop:\nDEX\nBNE loop", "metadata": {"concepts": ["countdown loop", "index register", "branch"]}}
{"id": "veran_pattern_057", "category": "pattern", "difficulty": 2, "code": "LDY #$00\n.lp:\nLDA (src),Y\nSTA (dst),Y\nINY\nCPY #$20\nBNE .lp", "metadata": {"concepts": ["memory copy loop", "indirect addressing"]}}
{"id": "veran_pattern_058", "category": "pattern", "difficulty": 2, "code": "REP #$20\nLDA $10\nSTA $20\nSEP #$20", "metadata": {"concepts": ["16-bit transfer", "word copy"]}}
{"id": "veran_pattern_059", "category": "pattern", "difficulty": 2, "code": "SEP #$30\nLDA #$42\nREP #$20", "metadata": {"concepts": ["mode switching", "register size"]}}
{"id": "veran_pattern_060", "category": "pattern", "difficulty": 2, "code": "PHA\nPHX\nJSR sub\nPLX\nPLA", "metadata": {"concepts": ["register preservation", "subroutine call"]}}
{"id": "veran_pattern_061", "category": "pattern", "difficulty": 2, "code": "PHB\nPHK\nPLB\nJSR sub\nPLB", "metadata": {"concepts": ["bank preservation", "data bank"]}}
{"id": "veran_pattern_062", "category": "pattern", "difficulty": 2, "code": "CLC\nLDA $10\nADC $12\nSTA $14", "metadata": {"concepts": ["16-bit addition", "carry propagation"]}}
{"id": "veran_pattern_063", "category": "pattern", "difficulty": 2, "code": "SEC\nLDA $10\nSBC $12\nSTA $14", "metadata": {"concepts": ["subtraction", "borrow"]}}
{"id": "veran_pattern_064", "category": "pattern", "difficulty": 2, "code": "LDA $10\nAND #$0F\nORA #$80\nSTA $10", "metadata": {"concepts": ["masking", "flag setting"]}}
{"id": "veran_pattern_065", "category": "pattern", "difficulty": 2, "code": "LDA $10\nEOR #$FF\nINC A\nSTA $10", "metadata": {"concepts": ["two's complement", "negation"]}}
{"id": "veran_pattern_066", "category": "pattern", "difficulty": 2, "code": "LDA $4212\nAND #$80\nBEQ -", "metadata": {"concepts": ["VBLANK wait", "hardware polling"]}}
{"id": "veran_pattern_067", "category": "pattern", "difficulty": 2, "code": "LDA #$80\nSTA $2115", "metadata": {"concepts": ["VRAM increment mode", "PPU setup"]}}
{"id": "veran_asar_068", "category": "asar_address_operators", "difficulty": 2, "code": "REP #$20 : LDA #SpriteData&$FFFF  ; Low 16 bits (16-bit A)", "metadata": {"concepts": ["ASAR syntax", "address_operators", "low_word"]}}
{"id": "veran_asar_069", "category": "asar_address_operators", "difficulty": 2, "code": "SEP #$20 : LDA #SpriteData>>8  ; High byte of low word", "metadata": {"concepts": ["ASAR syntax", "address_operators", "high_byte"]}}
{"id": "veran_asar_070", "category": "asar_address_operators", "difficulty": 2, "code": "SEP #$20 : LDA #SpriteData>>16  ; Bank byte (8-bit A, use >>16 NOT ^)", "metadata": {"concepts": ["ASAR syntax", "address_operators", "bank_byte"]}}
{"id": "veran_asar_071", "category": "asar_address_operators", "difficulty": 2, "code": "LDA.l SpriteData  ; Long addressing (24-bit)", "metadata": {"concepts": ["ASAR syntax", "address_operators", "full_24bit"]}}
{"id": "veran_asar_072", "category": "asar_labels", "difficulty": 2, "code": "MyRoutine:", "metadata": {"concepts": ["ASAR syntax", "labels", "global"]}}
{"id": "veran_asar_073", "category": "asar_labels", "difficulty": 2, "code": ".local_label  ; Dot prefix for local scope", "metadata": {"concepts": ["ASAR syntax", "labels", "local"]}}
{"id": "veran_asar_074", "category": "asar_labels", "difficulty": 2, "code": "-  ; Anonymous label (branch back with BRA -)", "metadata": {"concepts": ["ASAR syntax", "labels", "anonymous_back"]}}
{"id": "veran_asar_075", "category": "asar_labels", "difficulty": 2, "code": "+  ; Anonymous label (branch forward with BRA +)", "metadata": {"concepts": ["ASAR syntax", "labels", "anonymous_fwd"]}}
{"id": "veran_asar_076", "category": "asar_labels", "difficulty": 2, "code": "Routine_SubLabel:  ; Underscore convention", "metadata": {"concepts": ["ASAR syntax", "labels", "sublabel"]}}
{"id": "veran_asar_077", "category": "asar_data_directives", "difficulty": 2, "code": "db $42, $43, $44  ; Define bytes", "metadata": {"concepts": ["ASAR syntax", "data_directives", "byte"]}}
{"id": "veran_asar_078", "category": "asar_data_directives", "difficulty": 2, "code": "dw $1234, $5678   ; Define 16-bit words", "metadata": {"concepts": ["ASAR syntax", "data_directives", "word"]}}
{"id": "veran_asar_079", "category": "asar_data_directives", "difficulty": 2, "code": "dl $123456        ; Define 24-bit long", "metadata": {"concepts": ["ASAR syntax", "data_directives", "long"]}}
{"id": "veran_asar_080", "category": "asar_data_directives", "difficulty": 2, "code": "padbyte $00 : pad $8100  ; Fill to address", "metadata": {"concepts": ["ASAR syntax", "data_directives", "fill"]}}
{"id": "veran_asar_081", "category": "asar_data_directives", "difficulty": 2, "code": "table_data:\n    dw label1, label2, label3", "metadata": {"concepts": ["ASAR syntax", "data_directives", "table"]}}
{"id": "veran_reg_082", "category": "hardware_register", "difficulty": 2, "code": "$2100", "metadata": {"concepts": ["INIDISP", "screen brightness", "force blank"], "type": "register"}}
{"id": "veran_reg_083", "category": "hardware_register", "difficulty": 2, "code": "$2105", "metadata": {"concepts": ["BGMODE", "screen mode", "tile size"], "type": "register"}}
{"id": "veran_reg_084", "category": "hardware_register", "difficulty": 2, "code": "$2107", "metadata": {"concepts": ["BG1SC", "tilemap address", "size"], "type": "register"}}
{"id": "veran_reg_085", "category": "hardware_register", "difficulty": 2, "code": "$210B", "metadata": {"concepts": ["BG12NBA", "character address", "tiles"], "type": "register"}}
{"id": "veran_reg_086", "category": "hardware_register", "difficulty": 2, "code": "$210D", "metadata": {"concepts": ["BG1HOFS", "scroll register", "horizontal"], "type": "register"}}
{"id": "veran_reg_087", "category": "hardware_register", "difficulty": 2, "code": "$2115", "metadata": {"concepts": ["VMAIN", "VRAM increment", "address mode"], "type": "register"}}
{"id": "veran_reg_088", "category": "hardware_register", "difficulty": 2, "code": "$2116", "metadata": {"concepts": ["VMADDL", "VRAM address low"], "type": "register"}}
{"id": "veran_reg_089", "category": "hardware_register", "difficulty": 2, "code": "$2118", "metadata": {"concepts": ["VMDATAL", "VRAM data low", "write"], "type": "register"}}
{"id": "veran_reg_090", "category": "hardware_register", "difficulty": 2, "code": "$2121", "metadata": {"concepts": ["CGADD", "CGRAM address", "palette"], "type": "register"}}
{"id": "veran_reg_091", "category": "hardware_register", "difficulty": 2, "code": "$2122", "metadata": {"concepts": ["CGDATA", "CGRAM data", "color"], "type": "register"}}
{"id": "veran_reg_092", "category": "hardware_register", "difficulty": 2, "code": "$212C", "metadata": {"concepts": ["TM", "main screen", "layer enable"], "type": "register"}}
{"id": "veran_reg_093", "category": "hardware_register", "difficulty": 2, "code": "$212D", "metadata": {"concepts": ["TS", "subscreen", "layer enable"], "type": "register"}}
{"id": "veran_reg_094", "category": "hardware_register", "difficulty": 2, "code": "$2130", "metadata": {"concepts": ["CGWSEL", "color math", "window"], "type": "register"}}
{"id": "veran_reg_095", "category": "hardware_register", "difficulty": 2, "code": "$2131", "metadata": {"concepts": ["CGADSUB", "color math", "operation"], "type": "register"}}
{"id": "veran_reg_096", "category": "hardware_register", "difficulty": 2, "code": "$4200", "metadata": {"concepts": ["NMITIMEN", "interrupt enable", "NMI"], "type": "register"}}
{"id": "veran_reg_097", "category": "hardware_register", "difficulty": 2, "code": "$4210", "metadata": {"concepts": ["RDNMI", "NMI flag", "read"], "type": "register"}}
{"id": "veran_reg_098", "category": "hardware_register", "difficulty": 2, "code": "$4212", "metadata": {"concepts": ["HVBJOY", "status", "VBLANK"], "type": "register"}}
{"id": "veran_reg_099", "category": "hardware_register", "difficulty": 2, "code": "$4218", "metadata": {"concepts": ["JOY1L", "joypad 1 low", "input"], "type": "register"}}
{"id": "veran_reg_100", "category": "hardware_register", "difficulty": 2, "code": "$4300", "metadata": {"concepts": ["DMAP0", "DMA parameters", "channel 0"], "type": "register"}}
{"id": "veran_reg_101", "category": "hardware_register", "difficulty": 2, "code": "$420B", "metadata": {"concepts": ["MDMAEN", "DMA enable", "trigger"], "type": "register"}}
{"id": "veran_advpat_102", "category": "advanced_pattern", "difficulty": 3, "code": "LDA #$01\nSTA $4300\nLDA #$18\nSTA $4301\nLDA #$00\nSTA $4302\nLDA #$10\nSTA $4303\nLDA #$7E\nSTA $4304\nLDA #$00\nSTA $4305\nLDA #$08\nSTA $4306\nLDA #$01\nSTA $420B", "metadata": {"concepts": ["DMA transfer", "VRAM write", "channel 0"]}}
{"id": "veran_advpat_103", "category": "advanced_pattern", "difficulty": 3, "code": "LDA #$00\nSTA $4340\nLDA #$21\nSTA $4341\nLDA #<table\nSTA $4342\nLDA #>table\nSTA $4343\nLDA #^table\nSTA $4344\nLDA #$10\nSTA $420C", "metadata": {"concepts": ["HDMA", "gradient", "color register"]}}
{"id": "veran_advpat_104", "category": "advanced_pattern", "difficulty": 3, "code": "REP #$20\nLDA $10\nSTA $4202\nSTA $4203\nNOP\nNOP\nNOP\nLDA $4216\nSEP #$20", "metadata": {"concepts": ["hardware multiply", "8x8", "result"]}}
{"id": "veran_advpat_105", "category": "advanced_pattern", "difficulty": 3, "code": "REP #$20\nLDA dividend\nSTA $4204\nSEP #$20\nLDA divisor\nSTA $4206\nNOP\nNOP\nNOP\nNOP\nNOP\nNOP\nNOP\nNOP\nLDA $4214", "metadata": {"concepts": ["hardware divide", "quotient", "remainder"]}}
{"id": "veran_advpat_106", "category": "advanced_pattern", "difficulty": 3, "code": "LDA $00\nSTA $0800,Y\nLDA $01\nSTA $0801,Y\nLDA $02\nSTA $0802,Y\nLDA $03\nSTA $0803,Y", "metadata": {"concepts": ["OAM write", "sprite position", "tile/attr"]}}
{"id": "veran_advpat_107", "category": "advanced_pattern", "difficulty": 3, "code": "PHB\nLDA #$7E\nPHA\nPLB\nLDA $0000\nPLB", "metadata": {"concepts": ["bank switch", "data bank", "WRAM access"]}}
{"id": "veran_advpat_108", "category": "advanced_pattern", "difficulty": 3, "code": "PHD\nREP #$20\nLDA #$0000\nTCD\nSEP #$20\nLDA $10\nPLD", "metadata": {"concepts": ["direct page", "zero page", "fast access"]}}
{"id": "veran_alttp_109", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $7E0010\nAND #$40", "metadata": {"concepts": ["game module", "submodule check"], "game": "alttp"}}
{"id": "veran_alttp_110", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $7E0022\nSTA $7E0360", "metadata": {"concepts": ["Link X position", "sprite coordinate"], "game": "alttp"}}
{"id": "veran_alttp_111", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0D00,X\nBEQ .skip", "metadata": {"concepts": ["sprite status", "active check"], "game": "alttp"}}
{"id": "veran_alttp_112", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0E20,X\nASL #4\nTAY", "metadata": {"concepts": ["sprite type", "lookup index"], "game": "alttp"}}
{"id": "veran_alttp_113", "category": "alttp_pattern", "difficulty": 3, "code": "JSL $01B2D4", "metadata": {"concepts": ["Sprite_SetupBasicHitbox", "ALTTP routine"], "game": "alttp"}}
{"id": "veran_alttp_114", "category": "alttp_pattern", "difficulty": 3, "code": "JSL $01C39E", "metadata": {"concepts": ["Sprite_CheckDamageFromPlayer", "collision"], "game": "alttp"}}
{"id": "veran_alttp_115", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0D90,X\nBEQ .no_timer", "metadata": {"concepts": ["sprite timer", "countdown"], "game": "alttp"}}
{"id": "veran_alttp_116", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0F10,X\nSTA $0D80,X", "metadata": {"concepts": ["sprite subtype", "initialization"], "game": "alttp"}}
{"id": "veran_alttp_117", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0E70,X\nAND #$04", "metadata": {"concepts": ["sprite bump damage", "knockback"], "game": "alttp"}}
{"id": "veran_alttp_118", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0F40,X\nSTA $0D60,X", "metadata": {"concepts": ["sprite AI phase", "state machine"], "game": "alttp"}}
{"id": "veran_alttp_119", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0FB0,X\nCMP #$10", "metadata": {"concepts": ["sprite speed", "velocity check"], "game": "alttp"}}
{"id": "veran_alttp_120", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0E00,X\nORA #$40", "metadata": {"concepts": ["sprite flags", "invincibility"], "game": "alttp"}}
{"id": "veran_alttp_121", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0DA0,X\nBEQ .ground", "metadata": {"concepts": ["sprite Z height", "airborne check"], "game": "alttp"}}
{"id": "veran_alttp_122", "category": "alttp_pattern", "difficulty": 3, "code": "JSL $06FA9D", "metadata": {"concepts": ["Sprite_SpawnDynamically", "spawn routine"], "game": "alttp"}}
{"id": "veran_alttp_123", "category": "alttp_pattern", "difficulty": 3, "code": "JSL $01B7B3", "metadata": {"concepts": ["Sprite_DrawShadow", "shadow rendering"], "game": "alttp"}}
{"id": "veran_alttp_124", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0DC0,X\nASL A\nTAY", "metadata": {"concepts": ["sprite graphics", "tile offset"], "game": "alttp"}}
{"id": "veran_alttp_125", "category": "alttp_pattern", "difficulty": 3, "code": "JSL $00E0A3", "metadata": {"concepts": ["Sprite_DamageFlash", "hit effect"], "game": "alttp"}}
{"id": "veran_alttp_126", "category": "alttp_pattern", "difficulty": 3, "code": "LDA $0F20,X\nSTA $0D10,X", "metadata": {"concepts": ["sprite direction", "facing copy"], "game": "alttp"}}
{"id": "veran_complete_127", "category": "complete_routine", "difficulty": 3, "code": "; Wait for VBlank (ASAR style)\n-\n    LDA $4212\n    AND #$80\n    BEQ -\n    ; Now in VBlank\n\n; Wait for auto-joypad\nWaitJoypad:\n    LDA $4212\n    AND #$01\n    BNE WaitJoypad", "metadata": {"concepts": ["wait loops", "complete routine", "SNES hardware"]}}
{"id": "veran_complete_128", "category": "complete_routine", "difficulty": 3, "code": "; Complete joypad read routine (ASAR)\nReadJoypad:\n    PHP\n    REP #$20\n-   LDA $4212           ; Wait for auto-read\n    AND #$0001\n    BNE -\n    LDA JoyCurrent      ; Save previous\n    STA JoyPrevious\n    LDA $4218           ; Read new state\n    STA JoyCurrent\n    EOR JoyPrevious     ; Calculate newly pressed\n    AND JoyCurrent\n    STA JoyPressed\n    PLP\n    RTS\n\nJoyCurrent: dw $0000\nJoyPrevious: dw $0000\nJoyPressed: dw $0000", "metadata": {"concepts": ["joypad read", "complete routine", "SNES hardware"]}}
{"id": "veran_complete_129", "category": "complete_routine", "difficulty": 3, "code": "; CORRECT ASAR DMA setup (NOT ca65 .LOWORD/.BANKBYTE)\nLoadSpritesToVRAM:\n    PHP\n    REP #$20                ; 16-bit A for word writes\n    LDA #$1801              ; Mode 1, write to $2118\n    STA $4300               ; Writes to $4300 AND $4301\n    LDA #SpriteData&$FFFF   ; Source address low word\n    STA $4302               ; Writes to $4302 AND $4303\n    SEP #$20                ; 8-bit A for bank byte!\n    LDA #SpriteData>>16     ; Bank byte (use >>16, NOT ^)\n    STA $4304\n    REP #$20                ; Back to 16-bit\n    LDA #$0800              ; Transfer size\n    STA $4305\n    LDA #$4000              ; VRAM destination\n    STA $2116\n    SEP #$20                ; 8-bit for control registers\n    LDA #$80\n    STA $2115               ; VRAM increment mode\n    LDA #$01\n    STA $420B               ; Start DMA\n    PLP\n    RTS\n\nSpriteData:\n    db $00,$00,$00,$00      ; Tile data here", "metadata": {"concepts": ["dma setup correct", "complete routine", "SNES hardware"]}}
{"id": "veran_oracle_130", "category": "oracle_docs", "difficulty": 4, "code": "; =========================================================\n; Minecart Sprite System Documentation\n;\n; Used in Goron Mines along with SwitchTrack and Mineswitch.\n; Uses custom collision with Somaria track corner tiles.\n;\n; Cart States:\n; - Inactive: Horizontal or vertical, waiting for player\n; - Active: Moving in SprMiscB direction until:\n;   1. Somaria Stop Tile - Halt and set next direction\n;   2. Somaria Corner Track - Switch direction based on tile\n;   3. Somaria Any Track - Switch based on ", "metadata": {"concepts": ["sprite system", "memory map", "game mechanics"], "source": "oracle-of-secrets"}}
{"id": "veran_oracle_131", "category": "oracle_docs", "difficulty": 4, "code": "; Sprite Properties Memory Map\n;\n; $0E40 - Harmless/HVelocity/NbrTiles\n;   Bit 7: Harmless (no damage)\n;   Bit 6: Has velocity\n;   Bits 0-5: Number of OAM tiles\n;\n; $0E50 - Sprite HP\n; $0CD2 - Sprite Damage\n;\n; $0E60/$0F50 - Sprite Data\n;   Bit 7: Death animation\n;   Bit 6: Impervious to all\n;   Bit 5: Small shadow\n;   Bit 4: Has shadow\n;   Bits 1-3: Palette\n;\n; $0F60 - Sprite Hitbox\n;   Bit 7: Collision layer\n;   Bit 6: Static (no movement)\n;   Bit 5: Persist across rooms\n;   Bits 0-4: Hitbox t", "metadata": {"concepts": ["sprite system", "memory map", "game mechanics"], "source": "oracle-of-secrets"}}
