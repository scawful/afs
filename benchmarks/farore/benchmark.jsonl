{"id": "farore_basic_001", "category": "mode_mismatch", "difficulty": 1, "code": "LDA #$1234\nSTA $10", "expected_output": "REP #$20\nLDA #$1234\nSTA $10\nSEP #$20", "metadata": {"issue": "16-bit immediate value with 8-bit accumulator mode", "explanation": "The accumulator is in 8-bit mode but #$1234 is a 16-bit value. Need REP #$20 to switch to 16-bit mode first.", "symptom": "16-bit immediate value with 8-bit accumulator mode"}}
{"id": "farore_basic_002", "category": "mode_mismatch", "difficulty": 1, "code": "SEP #$20\nLDA #$00\nSTA $10\nSTA $11", "expected_output": "REP #$20\nLDA #$0000\nSTA $10\nSEP #$20", "metadata": {"issue": "Storing 8-bit value expecting 16-bit clear", "explanation": "If $10-$11 need to be cleared as a 16-bit value, must use 16-bit mode to write both bytes at once.", "symptom": "Storing 8-bit value expecting 16-bit clear"}}
{"id": "farore_basic_003", "category": "addressing_errors", "difficulty": 1, "code": "LDA $7E0100", "expected_output": "LDA $7E0100", "metadata": {"issue": "Long address in bank $00 context", "explanation": "This is actually correct if in bank 00, but if the intent is to read WRAM, the code should verify bank setup or use explicit long addressing with proper bank byte.", "symptom": "Long address in bank $00 context"}}
{"id": "farore_basic_004", "category": "addressing_errors", "difficulty": 1, "code": "LDA ($10)\nSTA $20", "expected_output": "LDA ($10),Y\nSTA $20", "metadata": {"issue": "Missing Y register for indirect indexed", "explanation": "65816 indirect addressing requires ,Y for indexed indirect. Without it, this is stack-relative indirect which is different.", "symptom": "Missing Y register for indirect indexed"}}
{"id": "farore_basic_005", "category": "branch_range", "difficulty": 1, "code": "BRA far_label  ; more than 128 bytes away", "expected_output": "BRL far_label  ; or JMP far_label", "metadata": {"issue": "Branch target out of range", "explanation": "BRA can only branch -128 to +127 bytes. For longer jumps, use BRL (branch long) or JMP.", "symptom": "Branch target out of range"}}
{"id": "farore_intermediate_006", "category": "register_corruption", "difficulty": 2, "code": "JSR subroutine\nSTX $10  ; X was modified in subroutine", "expected_output": "PHX\nJSR subroutine\nPLX\nSTX $10", "metadata": {"issue": "Register corrupted by subroutine call", "explanation": "Subroutines may modify registers. Preserve important values on the stack before calling.", "symptom": "Register corrupted by subroutine call"}}
{"id": "farore_intermediate_007", "category": "register_corruption", "difficulty": 2, "code": "LDA $10\nJSL $7E8000\nSTA $20  ; A was corrupted by long call", "expected_output": "PHA\nJSL $7E8000\nPLA\nLDA $10\nSTA $20", "metadata": {"issue": "Accumulator corrupted by JSL", "explanation": "The JSL target routine modified A. Either preserve A before the call or reload it after.", "symptom": "Accumulator corrupted by JSL"}}
{"id": "farore_intermediate_008", "category": "dma_issues", "difficulty": 2, "code": "LDA #$01\nSTA $4300\nLDA #$18\nSTA $4301\nLDA #<src\nSTA $4302\nLDA #>src\nSTA $4303\nLDA #<size\nSTA $4305\nLDA #>size\nSTA $4306\nLDA #$01\nSTA $420B", "expected_output": "LDA #$01\nSTA $4300\nLDA #$18\nSTA $4301\nLDA #<src\nSTA $4302\nLDA #>src\nSTA $4303\nLDA #^src\nSTA $4304\nLDA #<size\nSTA $4305\nLDA #>size\nSTA $4306\nLDA #$01\nSTA $420B", "metadata": {"issue": "Missing source bank register $4304", "explanation": "DMA requires the source bank in $4304. Without it, the bank defaults to whatever was last written, causing wrong data transfer.", "symptom": "Missing source bank register $4304"}}
{"id": "farore_intermediate_009", "category": "stack_imbalance", "difficulty": 2, "code": "subroutine:\nPHA\nPHX\n; ... code ...\nPLA\nRTS", "expected_output": "subroutine:\nPHA\nPHX\n; ... code ...\nPLX\nPLA\nRTS", "metadata": {"issue": "Stack imbalance - pushed X but only pulled A", "explanation": "Every PHA needs a matching PLA, and every PHX needs a PLX. Stack must be balanced before RTS or the return address is wrong.", "symptom": "Stack imbalance - pushed X but only pulled A"}}
{"id": "farore_advanced_010", "category": "nmi_race", "difficulty": 3, "code": "; Main loop\nLDA $10\nINC A\nSTA $10\n; NMI handler\nNMI:\nLDA $10\nSTA $2100\nRTI", "expected_output": "; Main loop\nSEI\nLDA $10\nINC A\nSTA $10\nCLI\n; NMI handler\nNMI:\nLDA $10\nSTA $2100\nRTI", "metadata": {"issue": "Race condition between main loop and NMI", "explanation": "NMI can interrupt between LDA and STA in main loop, causing the NMI to read a stale value. Use SEI/CLI to protect critical sections, or use a double-buffer approach.", "symptom": "Race condition between main loop and NMI"}}
{"id": "farore_advanced_011", "category": "hdma_corruption", "difficulty": 3, "code": "; Change HDMA table mid-frame\nLDA #<new_table\nSTA $4302", "expected_output": "; Wait for VBLANK\nwait:\nLDA $4212\nBPL wait\nLDA #<new_table\nSTA $4302", "metadata": {"issue": "Modifying HDMA registers while HDMA is active", "explanation": "HDMA registers should only be modified during VBLANK. Changing them mid-frame causes visual corruption.", "symptom": "Modifying HDMA registers while HDMA is active"}}
{"id": "farore_expert_012", "category": "save_corruption", "difficulty": 4, "code": "; Save routine\nLDA $7EF340\nSTA $700000\n; ... more saves ...\n; No checksum or validation", "expected_output": "; Save routine with checksum\nLDX #$0000\nLDA #$0000\nchecksum_loop:\nCLC\nADC $7EF340,X\nINX\nINX\nCPX #$0500\nBNE checksum_loop\nEOR #$5A5A\nSTA $7EF840\n; Now save data...", "metadata": {"issue": "Save data has no integrity check", "explanation": "Save data should include a checksum to detect corruption. Calculate checksum of save area and store it for validation on load.", "symptom": "Save data has no integrity check"}}
{"id": "farore_mode_013", "category": "mode_mismatch", "difficulty": 1, "code": "LDA #$1234\nSTA $10", "expected_output": "REP #$20\nLDA #$1234\nSTA $10\nSEP #$20", "metadata": {"issue": "16-bit value in 8-bit mode", "symptom": "Only low byte stored"}}
{"id": "farore_mode_014", "category": "mode_mismatch", "difficulty": 1, "code": "LDA #$ABCD\nSTA $20", "expected_output": "REP #$20\nLDA #$ABCD\nSTA $20\nSEP #$20", "metadata": {"issue": "16-bit value in 8-bit mode", "symptom": "Only low byte stored"}}
{"id": "farore_mode_015", "category": "mode_mismatch", "difficulty": 1, "code": "REP #$20\nLDA $10\nSEP #$20\nSTA $20", "expected_output": "REP #$20\nLDA $10\nSTA $20\nSEP #$20", "metadata": {"issue": "Store before mode switch", "symptom": "Only low byte stored"}}
{"id": "farore_mode_016", "category": "mode_mismatch", "difficulty": 1, "code": "LDX #$1000\nSTX $10", "expected_output": "REP #$10\nLDX #$1000\nSTX $10\nSEP #$10", "metadata": {"issue": "16-bit X in 8-bit mode", "symptom": "Only low byte stored"}}
{"id": "farore_stack_017", "category": "stack_imbalance", "difficulty": 2, "code": "PHA\nPHX\nJSR sub\nPLA\nRTS", "expected_output": "PHA\nPHX\nJSR sub\nPLX\nPLA\nRTS", "metadata": {"issue": "Missing PLX", "symptom": "Crash on RTS - wrong return address"}}
{"id": "farore_stack_018", "category": "stack_imbalance", "difficulty": 2, "code": "PHP\nPHA\nJSR sub\nPLA\nRTS", "expected_output": "PHP\nPHA\nJSR sub\nPLA\nPLP\nRTS", "metadata": {"issue": "Missing PLP", "symptom": "Crash on RTS - wrong return address"}}
{"id": "farore_stack_019", "category": "stack_imbalance", "difficulty": 2, "code": "PHY\nPHX\nPHA\nJSR sub\nPLA\nPLX\nRTS", "expected_output": "PHY\nPHX\nPHA\nJSR sub\nPLA\nPLX\nPLY\nRTS", "metadata": {"issue": "Missing PLY", "symptom": "Crash on RTS - wrong return address"}}
{"id": "farore_branch_020", "category": "branch_range", "difficulty": 1, "code": "BRA far_label  ; 150 bytes away", "expected_output": "BRL far_label  ; Use long branch", "metadata": {"issue": "Branch target 150 bytes away exceeds BRA range", "symptom": "Assembler error"}}
{"id": "farore_branch_021", "category": "branch_range", "difficulty": 1, "code": "BRA far_label  ; 200 bytes away", "expected_output": "BRL far_label  ; Use long branch", "metadata": {"issue": "Branch target 200 bytes away exceeds BRA range", "symptom": "Assembler error"}}
{"id": "farore_branch_022", "category": "branch_range", "difficulty": 1, "code": "BRA far_label  ; 256 bytes away", "expected_output": "BRL far_label  ; Use long branch", "metadata": {"issue": "Branch target 256 bytes away exceeds BRA range", "symptom": "Assembler error"}}
{"id": "farore_dma_023", "category": "dma_issues", "difficulty": 2, "code": "LDA #$01\nSTA $4300\nLDA #$18\nSTA $4301\nLDA #<src\nSTA $4302\nLDA #>src\nSTA $4303\nLDA #$01\nSTA $420B", "expected_output": "LDA #$01\nSTA $4300\nLDA #$18\nSTA $4301\nLDA #<src\nSTA $4302\nLDA #>src\nSTA $4303\nLDA #^src\nSTA $4304\nLDA #$01\nSTA $420B", "metadata": {"issue": "Missing DMA source bank register $4304", "symptom": "Wrong data transferred"}}
{"id": "farore_reg_024", "category": "register_corruption", "difficulty": 2, "code": "LDA $10\nJSR calc\nSTA $20", "expected_output": "PHA\nJSR calc\nPLA\nSTA $20", "metadata": {"issue": "A corrupted by subroutine", "symptom": "Wrong value stored"}}
{"id": "farore_reg_025", "category": "register_corruption", "difficulty": 2, "code": "LDX $10\nJSR calc\nSTX $20", "expected_output": "PHX\nJSR calc\nPLX\nSTX $20", "metadata": {"issue": "X corrupted by subroutine", "symptom": "Wrong value stored"}}
{"id": "farore_reg_026", "category": "register_corruption", "difficulty": 2, "code": "TXA\nJSR calc\nTAX\nSTX $20", "expected_output": "PHX\nJSR calc\nPLX\nSTX $20", "metadata": {"issue": "Register transfer doesn't preserve", "symptom": "Wrong value stored"}}
{"id": "farore_reg_027", "category": "register_corruption", "difficulty": 2, "code": "LDY $10\nJSR calc\nSTY $20", "expected_output": "PHY\nJSR calc\nPLY\nSTY $20", "metadata": {"issue": "Y corrupted by subroutine", "symptom": "Wrong value stored"}}
{"id": "farore_reg_028", "category": "register_corruption", "difficulty": 2, "code": "LDA $10\nLDX $11\nJSR calc\nSTA $20\nSTX $21", "expected_output": "PHA\nPHX\nJSR calc\nPLX\nPLA\nSTA $20\nSTX $21", "metadata": {"issue": "A and X corrupted", "symptom": "Wrong value stored"}}
{"id": "farore_carry_029", "category": "carry_flag", "difficulty": 1, "code": "LDA $10\nADC $12\nSTA $14", "expected_output": "CLC\nLDA $10\nADC $12\nSTA $14", "metadata": {"issue": "Missing CLC before ADC", "symptom": "Incorrect arithmetic result"}}
{"id": "farore_carry_030", "category": "carry_flag", "difficulty": 1, "code": "LDA $10\nSBC $12\nSTA $14", "expected_output": "SEC\nLDA $10\nSBC $12\nSTA $14", "metadata": {"issue": "Missing SEC before SBC", "symptom": "Incorrect arithmetic result"}}
{"id": "farore_carry_031", "category": "carry_flag", "difficulty": 1, "code": "LDA $10\nADC #$10\nADC #$20\nSTA $14", "expected_output": "CLC\nLDA $10\nADC #$10\nCLC\nADC #$20\nSTA $14", "metadata": {"issue": "Carry propagation between ADCs", "symptom": "Incorrect arithmetic result"}}
{"id": "farore_carry_032", "category": "carry_flag", "difficulty": 1, "code": "CLC\nLDA $10\nADC $11\nLDA $12\nADC $13\nSTA $14", "expected_output": "CLC\nLDA $10\nADC $11\nCLC\nLDA $12\nADC $13\nSTA $14", "metadata": {"issue": "Carry not cleared between operations", "symptom": "Incorrect arithmetic result"}}
{"id": "farore_vblank_033", "category": "vblank_timing", "difficulty": 2, "code": "STA $2118", "expected_output": "LDA $4212\nAND #$80\nBEQ -\nSTA $2118", "metadata": {"issue": "VRAM write outside VBLANK", "symptom": "Graphical corruption"}}
{"id": "farore_vblank_034", "category": "vblank_timing", "difficulty": 2, "code": "STA $2122", "expected_output": "LDA $4212\nAND #$80\nBEQ -\nSTA $2122", "metadata": {"issue": "CGRAM write outside VBLANK", "symptom": "Graphical corruption"}}
{"id": "farore_vblank_035", "category": "vblank_timing", "difficulty": 2, "code": "STZ $2104", "expected_output": "LDA $4212\nAND #$80\nBEQ -\nSTZ $2104", "metadata": {"issue": "OAM write outside VBLANK", "symptom": "Graphical corruption"}}
{"id": "farore_vblank_036", "category": "vblank_timing", "difficulty": 2, "code": "LDA #$80\nSTA $2100\nSTA $2118", "expected_output": "LDA #$80\nSTA $2100\nWAI\nSTA $2118", "metadata": {"issue": "No wait after force blank", "symptom": "Graphical corruption"}}
{"id": "farore_irq_037", "category": "interrupt_handling", "difficulty": 3, "code": "IRQ:\nLDA $10\nSTA $20\nRTI", "expected_output": "IRQ:\nPHA\nLDA $10\nSTA $20\nPLA\nRTI", "metadata": {"issue": "IRQ doesn't preserve A", "symptom": "Register corruption or crash"}}
{"id": "farore_irq_038", "category": "interrupt_handling", "difficulty": 3, "code": "IRQ:\nPHA\nLDA $10\nSTA $20\nPLA\nRTI", "expected_output": "IRQ:\nPHA\nPHX\nLDA $10\nSTA $20\nPLX\nPLA\nRTI", "metadata": {"issue": "IRQ doesn't preserve X (if used)", "symptom": "Register corruption or crash"}}
{"id": "farore_irq_039", "category": "interrupt_handling", "difficulty": 3, "code": "NMI:\nINC $10\nRTS", "expected_output": "NMI:\nINC $10\nRTI", "metadata": {"issue": "Using RTS instead of RTI", "symptom": "Register corruption or crash"}}
{"id": "farore_irq_040", "category": "interrupt_handling", "difficulty": 3, "code": "NMI:\nPHA\nPHX\nJSR handler\nPLA\nPLX\nRTI", "expected_output": "NMI:\nPHA\nPHX\nJSR handler\nPLX\nPLA\nRTI", "metadata": {"issue": "Stack pull order reversed", "symptom": "Register corruption or crash"}}
{"id": "farore_addr_041", "category": "addressing_mode", "difficulty": 2, "code": "LDA $00,X\n; X > $FF", "expected_output": "LDA $0000,X", "metadata": {"issue": "Zero page wrap-around with X > 255", "symptom": "Accessing wrong memory location"}}
{"id": "farore_addr_042", "category": "addressing_mode", "difficulty": 2, "code": "STA ($10)\n; DP not 0", "expected_output": "STA [$10]", "metadata": {"issue": "Direct page indirect vs long indirect", "symptom": "Accessing wrong memory location"}}
{"id": "farore_addr_043", "category": "addressing_mode", "difficulty": 2, "code": "LDA $10,X\n; accessing $7E00xx", "expected_output": "LDA $7E0010,X", "metadata": {"issue": "Assuming bank 0 for WRAM access", "symptom": "Accessing wrong memory location"}}
{"id": "farore_addr_044", "category": "addressing_mode", "difficulty": 2, "code": "JMP ($1000)", "expected_output": "JML [$1000]", "metadata": {"issue": "JMP indirect doesn't load bank", "symptom": "Accessing wrong memory location"}}
{"id": "farore_addr_045", "category": "addressing_mode", "difficulty": 2, "code": "JSR $018000", "expected_output": "JSL $018000", "metadata": {"issue": "Cross-bank call needs JSL", "symptom": "Accessing wrong memory location"}}
{"id": "farore_cmp_046", "category": "comparison_logic", "difficulty": 2, "code": "CMP #$10\nBCS greater", "expected_output": "CMP #$10\nBCS greater_or_equal", "metadata": {"issue": "BCS includes equal case", "symptom": "Wrong branch taken"}}
{"id": "farore_cmp_047", "category": "comparison_logic", "difficulty": 2, "code": "CMP #$80\nBPL positive", "expected_output": "CMP #$80\nBCC less_than_128", "metadata": {"issue": "Sign flag vs unsigned compare", "symptom": "Wrong branch taken"}}
{"id": "farore_cmp_048", "category": "comparison_logic", "difficulty": 2, "code": "LDA $10\nCMP $11\nBEQ equal\nBCS greater\nBCC less", "expected_output": "LDA $10\nCMP $11\nBEQ equal\nBCC less\nBCS greater", "metadata": {"issue": "BCS/BCC after equal check", "symptom": "Wrong branch taken"}}
{"id": "farore_cmp_049", "category": "comparison_logic", "difficulty": 2, "code": "CPX #$00\nBEQ done", "expected_output": "DEX\nBMI done", "metadata": {"issue": "Simpler zero check", "symptom": "Wrong branch taken"}}
{"id": "farore_loop_050", "category": "loop_termination", "difficulty": 2, "code": "LDX #$10\n.lp:\nDEX\nBNE .lp", "expected_output": "LDX #$10\n.lp:\nDEX\nBPL .lp", "metadata": {"issue": "BNE misses X=0 iteration", "symptom": "Loop runs wrong number of times"}}
{"id": "farore_loop_051", "category": "loop_termination", "difficulty": 2, "code": "LDY #$FF\n.lp:\nINY\nCPY #$10\nBNE .lp", "expected_output": "LDY #$00\n.lp:\nINY\nCPY #$10\nBNE .lp", "metadata": {"issue": "Starting Y at wrong value", "symptom": "Loop runs wrong number of times"}}
{"id": "farore_loop_052", "category": "loop_termination", "difficulty": 2, "code": "LDX #$00\n.lp:\nINX\nBNE .lp", "expected_output": "LDX #$00\n.lp:\nINX\nCPX #$10\nBNE .lp", "metadata": {"issue": "Infinite loop - no termination", "symptom": "Loop runs wrong number of times"}}
{"id": "farore_loop_053", "category": "loop_termination", "difficulty": 2, "code": ".lp:\nDEC $10\nBNE .lp", "expected_output": "LDA $10\n.lp:\nDEC A\nBNE .lp\nSTA $10", "metadata": {"issue": "Modifying memory in tight loop", "symptom": "Loop runs wrong number of times"}}
{"id": "farore_word_054", "category": "16bit_operations", "difficulty": 2, "code": "INC $10\nBNE +\nINC $11\n+", "expected_output": "REP #$20\nINC $10\nSEP #$20", "metadata": {"issue": "Manual 16-bit increment", "symptom": "Inefficient or incorrect word operation"}}
{"id": "farore_word_055", "category": "16bit_operations", "difficulty": 2, "code": "LDA $10\nCLC\nADC #$01\nSTA $10\nBCC +\nINC $11\n+", "expected_output": "REP #$20\nINC $10\nSEP #$20", "metadata": {"issue": "Manual carry propagation", "symptom": "Inefficient or incorrect word operation"}}
{"id": "farore_word_056", "category": "16bit_operations", "difficulty": 2, "code": "LDA $10\nSTA $20\nLDA $11\nSTA $21", "expected_output": "REP #$20\nLDA $10\nSTA $20\nSEP #$20", "metadata": {"issue": "Two 8-bit copies instead of one 16-bit", "symptom": "Inefficient or incorrect word operation"}}
{"id": "farore_word_057", "category": "16bit_operations", "difficulty": 2, "code": "STZ $10\nSTZ $11\nSTZ $12\nSTZ $13", "expected_output": "REP #$20\nSTZ $10\nSTZ $12\nSEP #$20", "metadata": {"issue": "Four STZ instead of two 16-bit", "symptom": "Inefficient or incorrect word operation"}}
{"id": "farore_obo_058", "category": "off_by_one", "difficulty": 2, "code": "LDX #$10\n.lp:\nLDA $1000,X\nSTA $2000,X\nDEX\nBNE .lp", "expected_output": "LDX #$0F\n.lp:\nLDA $1000,X\nSTA $2000,X\nDEX\nBPL .lp", "metadata": {"issue": "BNE misses index 0", "symptom": "Wrong iteration count"}}
{"id": "farore_obo_059", "category": "off_by_one", "difficulty": 2, "code": "LDY #$00\n.lp:\nSTA $1000,Y\nINY\nCPY #$10\nBCC .lp", "expected_output": "LDY #$00\n.lp:\nSTA $1000,Y\nINY\nCPY #$10\nBNE .lp", "metadata": {"issue": "BCC vs BNE for count", "symptom": "Wrong iteration count"}}
{"id": "farore_obo_060", "category": "off_by_one", "difficulty": 2, "code": "LDA #$00\n.lp:\nINC A\nCMP #$10\nBCC .lp", "expected_output": "LDA #$01\n.lp:\nINC A\nCMP #$10\nBCC .lp", "metadata": {"issue": "Starting at wrong value", "symptom": "Wrong iteration count"}}
{"id": "farore_obo_061", "category": "off_by_one", "difficulty": 2, "code": "LDX count\n.lp:\nDEX\nBMI .done\nJSR process\nBRA .lp\n.done:", "expected_output": "LDX count\nBEQ .done\n.lp:\nDEX\nJSR process\nBNE .lp\n.done:", "metadata": {"issue": "Process called extra time", "symptom": "Wrong iteration count"}}
{"id": "farore_ptr_062", "category": "pointer_bugs", "difficulty": 2, "code": "LDA #<ptr\nSTA $10", "expected_output": "LDA #<ptr\nSTA $10\nLDA #>ptr\nSTA $11", "metadata": {"issue": "Missing high byte of pointer", "symptom": "Accessing wrong memory"}}
{"id": "farore_ptr_063", "category": "pointer_bugs", "difficulty": 2, "code": "LDA ($10)\nSTA $20", "expected_output": "LDA ($10),Y\nSTA $20", "metadata": {"issue": "Missing Y index for indirect", "symptom": "Accessing wrong memory"}}
{"id": "farore_ptr_064", "category": "pointer_bugs", "difficulty": 2, "code": "LDA [$10]\nSTA $20", "expected_output": "LDA [$10]\nSTA $20\nLDA #^bank\nSTA $12", "metadata": {"issue": "Long indirect missing bank", "symptom": "Accessing wrong memory"}}
{"id": "farore_ptr_065", "category": "pointer_bugs", "difficulty": 2, "code": "LDA table,X\nSTA ($20)", "expected_output": "LDA table,X\nLDY #$00\nSTA ($20),Y", "metadata": {"issue": "Indirect store needs Y", "symptom": "Accessing wrong memory"}}
{"id": "farore_timing_066", "category": "timing_issues", "difficulty": 3, "code": "LDA $4218\nAND #$80\nBNE pressed", "expected_output": "LDA $4212\nAND #$01\nBNE -\nLDA $4218\nAND #$80\nBNE pressed", "metadata": {"issue": "Reading joypad during auto-read", "symptom": "Incorrect or corrupted data"}}
{"id": "farore_timing_067", "category": "timing_issues", "difficulty": 3, "code": "STA $2118\nSTA $2118", "expected_output": "STA $2118\nLDA $2139\nSTA $2118", "metadata": {"issue": "Back-to-back VRAM writes", "symptom": "Incorrect or corrupted data"}}
{"id": "farore_timing_068", "category": "timing_issues", "difficulty": 3, "code": "LDA $2134\nSTA $10", "expected_output": "LDA #$00\nSTA $211B\nLDA #$00\nSTA $211C\nLDA $2134\nSTA $10", "metadata": {"issue": "Reading multiplier without delay", "symptom": "Incorrect or corrupted data"}}
{"id": "farore_timing_069", "category": "timing_issues", "difficulty": 3, "code": "STA $4202\nSTA $4203\nLDA $4216", "expected_output": "STA $4202\nSTA $4203\nNOP\nNOP\nLDA $4216", "metadata": {"issue": "Reading multiply result too fast", "symptom": "Incorrect or corrupted data"}}
{"id": "farore_bank_070", "category": "bank_boundary", "difficulty": 3, "code": "JSR $FF00\n; crosses bank", "expected_output": "JSL $01FF00", "metadata": {"issue": "JSR can't cross bank boundary", "symptom": "Jump to wrong location"}}
{"id": "farore_bank_071", "category": "bank_boundary", "difficulty": 3, "code": "JMP $FFFF\n; next instruction at $10000", "expected_output": "JML $010000", "metadata": {"issue": "JMP wraps within bank", "symptom": "Jump to wrong location"}}
{"id": "farore_bank_072", "category": "bank_boundary", "difficulty": 3, "code": "BRA +127\n; target is 200 bytes away", "expected_output": "BRL target", "metadata": {"issue": "BRA range exceeded", "symptom": "Jump to wrong location"}}
{"id": "farore_bank_073", "category": "bank_boundary", "difficulty": 3, "code": "LDA $FFFF,X\n; X=$10", "expected_output": "LDA.l $00FFFF,X", "metadata": {"issue": "Indexed access crosses bank", "symptom": "Jump to wrong location"}}
{"id": "farore_flag_074", "category": "flag_state", "difficulty": 2, "code": "PHP\nREP #$20\nPLP\nLDA $10", "expected_output": "PHP\nREP #$20\nLDA $10\nPLP", "metadata": {"issue": "PLP restores wrong mode", "symptom": "Wrong flag state"}}
{"id": "farore_flag_075", "category": "flag_state", "difficulty": 2, "code": "SEI\nJSR handler\nCLI", "expected_output": "PHP\nSEI\nJSR handler\nPLP", "metadata": {"issue": "CLI unconditionally enables IRQ", "symptom": "Wrong flag state"}}
{"id": "farore_flag_076", "category": "flag_state", "difficulty": 2, "code": "CLV\nADC $10\nBVC nooverflow", "expected_output": "ADC $10\nBVC nooverflow", "metadata": {"issue": "CLV before ADC hides overflow", "symptom": "Wrong flag state"}}
{"id": "farore_flag_077", "category": "flag_state", "difficulty": 2, "code": "SEC\nROR A\nCLC\nROR A", "expected_output": "ROR A\nROR A", "metadata": {"issue": "Unnecessary flag manipulation", "symptom": "Wrong flag state"}}
{"id": "farore_init_078", "category": "initialization", "difficulty": 1, "code": "LDA $10\nBEQ done", "expected_output": "STZ $10\nLDA $10\nBEQ done", "metadata": {"issue": "Uninitialized memory read", "symptom": "Undefined behavior"}}
{"id": "farore_init_079", "category": "initialization", "difficulty": 1, "code": "LDX #$00\nSTX $10\n.lp:\nINC $10\nBNE .lp", "expected_output": "STZ $10\n.lp:\nINC $10\nBNE .lp", "metadata": {"issue": "Redundant LDX for STZ", "symptom": "Undefined behavior"}}
{"id": "farore_init_080", "category": "initialization", "difficulty": 1, "code": "LDA $10\nSTA $20", "expected_output": "STZ $10\nLDA $10\nSTA $20", "metadata": {"issue": "Missing init before use", "symptom": "Undefined behavior"}}
{"id": "farore_init_081", "category": "initialization", "difficulty": 1, "code": "TXA\nSTA $10", "expected_output": "PHX\nTXA\nSTA $10\nPLX", "metadata": {"issue": "TXA clobbers A without save", "symptom": "Undefined behavior"}}
{"id": "farore_signed_082", "category": "signed_arithmetic", "difficulty": 2, "code": "CMP #$80\nBCS negative", "expected_output": "CMP #$80\nBMI negative", "metadata": {"issue": "BCS doesn't work for signed", "symptom": "Wrong comparison result"}}
{"id": "farore_signed_083", "category": "signed_arithmetic", "difficulty": 2, "code": "LDA $10\nCMP #$00\nBCS positive", "expected_output": "LDA $10\nBPL positive", "metadata": {"issue": "Signed positive check", "symptom": "Wrong comparison result"}}
{"id": "farore_signed_084", "category": "signed_arithmetic", "difficulty": 2, "code": "LDA $10\nSEC\nSBC $11\nBMI less", "expected_output": "LDA $10\nCMP $11\nBMI less", "metadata": {"issue": "Subtraction vs compare", "symptom": "Wrong comparison result"}}
{"id": "farore_signed_085", "category": "signed_arithmetic", "difficulty": 2, "code": "LDA $10\nCLC\nADC #$80\nBCS overflow", "expected_output": "LDA $10\nCLC\nADC #$80\nBVS overflow", "metadata": {"issue": "Signed overflow check", "symptom": "Wrong comparison result"}}
{"id": "farore_mem_086", "category": "memory_access", "difficulty": 2, "code": "LDA $1FFF,X\n; X = $10", "expected_output": "LDA $1FFF,X", "metadata": {"issue": "Correct but document page crossing", "symptom": "Reading wrong address"}}
{"id": "farore_mem_087", "category": "memory_access", "difficulty": 2, "code": "LDA ($FE),Y\n; Y > $01", "expected_output": "LDA [$FE],Y", "metadata": {"issue": "Indirect wrap at page boundary", "symptom": "Reading wrong address"}}
{"id": "farore_mem_088", "category": "memory_access", "difficulty": 2, "code": "STA $FFFF", "expected_output": "STA.l $00FFFF", "metadata": {"issue": "Ambiguous bank access", "symptom": "Reading wrong address"}}
{"id": "farore_mem_089", "category": "memory_access", "difficulty": 2, "code": "LDA $2100", "expected_output": "LDA.l $002100", "metadata": {"issue": "Hardware register needs long", "symptom": "Reading wrong address"}}
{"id": "farore_sub_090", "category": "subroutine_call", "difficulty": 2, "code": "JSR far_routine\n; in different bank", "expected_output": "JSL far_routine", "metadata": {"issue": "Cross-bank call needs JSL", "symptom": "Wrong return or crash"}}
{"id": "farore_sub_091", "category": "subroutine_call", "difficulty": 2, "code": "JSR routine\nRTL", "expected_output": "JSL routine\nRTL", "metadata": {"issue": "Mismatched JSR/RTL", "symptom": "Wrong return or crash"}}
{"id": "farore_sub_092", "category": "subroutine_call", "difficulty": 2, "code": "JSL routine\nRTS", "expected_output": "JSL routine\nRTL", "metadata": {"issue": "Mismatched JSL/RTS", "symptom": "Wrong return or crash"}}
{"id": "farore_sub_093", "category": "subroutine_call", "difficulty": 2, "code": "JSR ($1000)\n; indirect call", "expected_output": "JSR ($1000,X)", "metadata": {"issue": "Wrong indirect call mode", "symptom": "Wrong return or crash"}}
{"id": "farore_bit_094", "category": "bit_manipulation", "difficulty": 1, "code": "LDA $10\nAND #$80\nBNE set", "expected_output": "LDA $10\nBMI set", "metadata": {"issue": "Use BMI instead of AND", "symptom": "Inefficient or incorrect"}}
{"id": "farore_bit_095", "category": "bit_manipulation", "difficulty": 1, "code": "LDA $10\nAND #$01\nBNE odd", "expected_output": "LDA $10\nLSR A\nBCS odd", "metadata": {"issue": "Use carry for bit 0", "symptom": "Inefficient or incorrect"}}
{"id": "farore_bit_096", "category": "bit_manipulation", "difficulty": 1, "code": "LDA $10\nORA #$00\nSTA $10", "expected_output": "LDA $10\nSTA $10", "metadata": {"issue": "ORA #$00 does nothing", "symptom": "Inefficient or incorrect"}}
{"id": "farore_bit_097", "category": "bit_manipulation", "difficulty": 1, "code": "LDA $10\nEOR #$00\nSTA $10", "expected_output": "LDA $10\nSTA $10", "metadata": {"issue": "EOR #$00 does nothing", "symptom": "Inefficient or incorrect"}}
{"id": "farore_bit_098", "category": "bit_manipulation", "difficulty": 1, "code": "LDA $10\nAND #$FF\nSTA $10", "expected_output": "LDA $10\nSTA $10", "metadata": {"issue": "AND #$FF does nothing", "symptom": "Inefficient or incorrect"}}
{"id": "farore_oracle_099", "category": "oracle_water_collision", "difficulty": 3, "code": "\n; Water gate fill - missing collision update\nWaterGate_FillComplete:\n  STZ.b $1E\n  STZ.b $1F\n  JSL IrisSpotlight_ResetTable\n  ; Player can now walk through water tiles!\n  JML $01F3DA", "expected_output": "\nWaterGate_FillComplete_Hook:\n{\n  STZ.b $1E : STZ.b $1F\n  JSL IrisSpotlight_ResetTable\n\n  PHB : PHK : PLB\n  SEP #$20\n  LDA.b $A0  ; Current room\n\n  CMP.b #$27 : BNE .check_room_25\n    REP #$20\n    LDA.w #WaterGate_Room27_Data : STA.b $00\n    SEP #$20\n    LDA.b #WaterGate_Room27_Data>>16 : STA.b $02\n    JSR WaterGate_ApplyCollision\n    JSR WaterGate_SetPersistenceFlag\n    BRA .done\n\n  .check_room_25\n  CMP.b #$25 : BNE .done\n    ; Apply room 25 collision...\n\n  .done\n  SEP #$30\n  PLB\n  JML $01F3DA\n}", "metadata": {"issue": "Missing collision tilemap update after water fills", "explanation": "Water fill must update $7F2000 collision tilemap and set SRAM persistence flag", "source": "oracle-of-secrets"}}
{"id": "farore_oracle_100", "category": "oracle_palette_dispatch", "difficulty": 3, "code": "\n; Palette switching without proper state\nPalette_Update:\n  LDA !CurrentMask\n  CMP.b #$01 : BEQ .mask1\n  CMP.b #$02 : BEQ .mask2\n  ; Missing fallback case!\n  RTL", "expected_output": "\nPalette_ArmorAndGloves:\n{\n  LDA !CurrentMask\n  CMP.b #$01 : BEQ .deku_mask\n  CMP.b #$02 : BEQ .zora_mask\n  CMP.b #$03 : BEQ .wolf_mask\n  JMP .original_sprite  ; Default fallback\n\n  .deku_mask\n  LDA.b #$35 : STA $BC\n  JSL UpdateDekuPalette\n  RTL\n\n  .zora_mask\n  LDA.b #$36 : STA $BC\n  JSL UpdateZoraPalette\n  RTL\n\n  .wolf_mask\n  LDA.b #$38 : STA $BC\n  JSL UpdateWolfPalette\n  RTL\n\n  .original_sprite\n  ; Original Link palette logic\n  RTL\n}", "metadata": {"issue": "Missing default case in mask comparison causes unpredictable palette", "explanation": "State dispatch must always have a default case to prevent undefined behavior", "source": "oracle-of-secrets"}}
