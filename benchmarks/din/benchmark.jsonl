{"id": "din_basic_001", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $10\nLDA #$00\nSTA $11\nLDA #$00\nSTA $12", "expected_output": "STZ $10\nSTZ $11\nSTZ $12", "metadata": {"description": "Replace LDA #$00 + STA with STZ", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_002", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $14\nLDA #$00\nSTA $13\nLDA #$00\nSTA $14", "expected_output": "STZ $14\nSTZ $13\nSTZ $14", "metadata": {"description": "Replace LDA #$00 + STA with STZ (addr variation: $12)", "task": "optimize"}}
{"id": "din_basic_003", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $14\nLDA #$00\nSTA $15\nLDA #$00\nSTA $16", "expected_output": "STZ $14\nSTZ $15\nSTZ $16", "metadata": {"description": "Replace LDA #$00 + STA with STZ (addr variation: $14)", "task": "optimize"}}
{"id": "din_basic_004", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $20\nLDA #$00\nSTA $21\nLDA #$00\nSTA $22", "expected_output": "STZ $20\nSTZ $21\nSTZ $22", "metadata": {"description": "Replace LDA #$00 + STA with STZ (addr variation: $20)", "task": "optimize"}}
{"id": "din_basic_005", "category": "redundant_loads", "difficulty": 1, "code": "LDA $10\nSTA $20\nLDA $10\nSTA $21\nLDA $10\nSTA $22", "expected_output": "LDA $10\nSTA $20\nSTA $21\nSTA $22", "metadata": {"description": "Eliminate redundant loads of same address", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_006", "category": "redundant_loads", "difficulty": 1, "code": "LDA $14\nSTA $20\nLDA $14\nSTA $21\nLDA $14\nSTA $22", "expected_output": "LDA $14\nSTA $20\nSTA $21\nSTA $22", "metadata": {"description": "Eliminate redundant loads of same address (addr variation: $12)", "task": "optimize"}}
{"id": "din_basic_007", "category": "redundant_loads", "difficulty": 1, "code": "LDA $14\nSTA $20\nLDA $14\nSTA $21\nLDA $14\nSTA $22", "expected_output": "LDA $14\nSTA $20\nSTA $21\nSTA $22", "metadata": {"description": "Eliminate redundant loads of same address (addr variation: $14)", "task": "optimize"}}
{"id": "din_basic_008", "category": "redundant_loads", "difficulty": 1, "code": "LDA $20\nSTA $20\nLDA $20\nSTA $21\nLDA $20\nSTA $22", "expected_output": "LDA $20\nSTA $20\nSTA $21\nSTA $22", "metadata": {"description": "Eliminate redundant loads of same address (addr variation: $20)", "task": "optimize"}}
{"id": "din_basic_009", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $10\nLDA #$01\nSTA $11", "expected_output": "LDA #$01\nSTA $10\nSTA $11", "metadata": {"description": "Reuse accumulator value", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_010", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $14\nLDA #$01\nSTA $13", "expected_output": "LDA #$01\nSTA $14\nSTA $13", "metadata": {"description": "Reuse accumulator value (addr variation: $12)", "task": "optimize"}}
{"id": "din_basic_011", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $14\nLDA #$01\nSTA $15", "expected_output": "LDA #$01\nSTA $14\nSTA $15", "metadata": {"description": "Reuse accumulator value (addr variation: $14)", "task": "optimize"}}
{"id": "din_basic_012", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $20\nLDA #$01\nSTA $21", "expected_output": "LDA #$01\nSTA $20\nSTA $21", "metadata": {"description": "Reuse accumulator value (addr variation: $20)", "task": "optimize"}}
{"id": "din_basic_013", "category": "redundant_loads", "difficulty": 1, "code": "LDX #$00\nSTX $10\nLDX #$00\nSTX $11", "expected_output": "LDX #$00\nSTX $10\nSTX $11", "metadata": {"description": "Reuse index register value", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_014", "category": "redundant_loads", "difficulty": 1, "code": "LDX #$00\nSTX $14\nLDX #$00\nSTX $13", "expected_output": "LDX #$00\nSTX $14\nSTX $13", "metadata": {"description": "Reuse index register value (addr variation: $12)", "task": "optimize"}}
{"id": "din_basic_015", "category": "redundant_loads", "difficulty": 1, "code": "LDX #$00\nSTX $14\nLDX #$00\nSTX $15", "expected_output": "LDX #$00\nSTX $14\nSTX $15", "metadata": {"description": "Reuse index register value (addr variation: $14)", "task": "optimize"}}
{"id": "din_basic_016", "category": "redundant_loads", "difficulty": 1, "code": "LDX #$00\nSTX $20\nLDX #$00\nSTX $21", "expected_output": "LDX #$00\nSTX $20\nSTX $21", "metadata": {"description": "Reuse index register value (addr variation: $20)", "task": "optimize"}}
{"id": "din_basic_017", "category": "register_mode", "difficulty": 1, "code": "SEP #$20\nSEP #$10", "expected_output": "SEP #$30", "metadata": {"description": "Combine separate mode switches", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_018", "category": "register_mode", "difficulty": 1, "code": "SEP #$20\nSEP #$14", "expected_output": "SEP #$30", "metadata": {"description": "Combine separate mode switches (addr variation: $12)", "task": "optimize"}}
{"id": "din_basic_019", "category": "register_mode", "difficulty": 1, "code": "SEP #$20\nSEP #$14", "expected_output": "SEP #$30", "metadata": {"description": "Combine separate mode switches (addr variation: $14)", "task": "optimize"}}
{"id": "din_basic_020", "category": "register_mode", "difficulty": 1, "code": "SEP #$20\nSEP #$20", "expected_output": "SEP #$30", "metadata": {"description": "Combine separate mode switches (addr variation: $20)", "task": "optimize"}}
{"id": "din_basic_021", "category": "register_mode", "difficulty": 1, "code": "REP #$20\nREP #$10", "expected_output": "REP #$30", "metadata": {"description": "Combine 16-bit mode switches", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_022", "category": "register_mode", "difficulty": 1, "code": "REP #$20\nREP #$14", "expected_output": "REP #$30", "metadata": {"description": "Combine 16-bit mode switches (addr variation: $12)", "task": "optimize"}}
{"id": "din_basic_023", "category": "register_mode", "difficulty": 1, "code": "REP #$20\nREP #$14", "expected_output": "REP #$30", "metadata": {"description": "Combine 16-bit mode switches (addr variation: $14)", "task": "optimize"}}
{"id": "din_basic_024", "category": "register_mode", "difficulty": 1, "code": "REP #$20\nREP #$20", "expected_output": "REP #$30", "metadata": {"description": "Combine 16-bit mode switches (addr variation: $20)", "task": "optimize"}}
{"id": "din_basic_025", "category": "register_mode", "difficulty": 1, "code": "SEP #$20\nLDA #$05\nSEP #$20", "expected_output": "SEP #$20\nLDA #$05", "metadata": {"description": "Remove redundant mode switch", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_026", "category": "branch_optimization", "difficulty": 1, "code": "CMP #$00\nBEQ label", "expected_output": "BEQ label", "metadata": {"description": "CMP #$00 is redundant before BEQ", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_027", "category": "branch_optimization", "difficulty": 1, "code": "LDA $10\nCMP #$00\nBNE label", "expected_output": "LDA $10\nBNE label", "metadata": {"description": "LDA sets zero flag automatically", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_028", "category": "branch_optimization", "difficulty": 1, "code": "LDA $14\nCMP #$00\nBNE label", "expected_output": "LDA $14\nBNE label", "metadata": {"description": "LDA sets zero flag automatically (addr variation: $12)", "task": "optimize"}}
{"id": "din_basic_029", "category": "branch_optimization", "difficulty": 1, "code": "LDA $14\nCMP #$00\nBNE label", "expected_output": "LDA $14\nBNE label", "metadata": {"description": "LDA sets zero flag automatically (addr variation: $14)", "task": "optimize"}}
{"id": "din_basic_030", "category": "branch_optimization", "difficulty": 1, "code": "LDA $20\nCMP #$00\nBNE label", "expected_output": "LDA $20\nBNE label", "metadata": {"description": "LDA sets zero flag automatically (addr variation: $20)", "task": "optimize"}}
{"id": "din_basic_031", "category": "increment_decrement", "difficulty": 1, "code": "LDA $10\nCLC\nADC #$01\nSTA $10", "expected_output": "INC $10", "metadata": {"description": "Use INC for adding 1", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_032", "category": "increment_decrement", "difficulty": 1, "code": "LDA $14\nCLC\nADC #$01\nSTA $14", "expected_output": "INC $14", "metadata": {"description": "Use INC for adding 1 (addr variation: $12)", "task": "optimize"}}
{"id": "din_basic_033", "category": "increment_decrement", "difficulty": 1, "code": "LDA $14\nCLC\nADC #$01\nSTA $14", "expected_output": "INC $14", "metadata": {"description": "Use INC for adding 1 (addr variation: $14)", "task": "optimize"}}
{"id": "din_basic_034", "category": "increment_decrement", "difficulty": 1, "code": "LDA $20\nCLC\nADC #$01\nSTA $20", "expected_output": "INC $20", "metadata": {"description": "Use INC for adding 1 (addr variation: $20)", "task": "optimize"}}
{"id": "din_basic_035", "category": "increment_decrement", "difficulty": 1, "code": "LDA $10\nSEC\nSBC #$01\nSTA $10", "expected_output": "DEC $10", "metadata": {"description": "Use DEC for subtracting 1", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_basic_036", "category": "increment_decrement", "difficulty": 1, "code": "LDA $14\nSEC\nSBC #$01\nSTA $14", "expected_output": "DEC $14", "metadata": {"description": "Use DEC for subtracting 1 (addr variation: $12)", "task": "optimize"}}
{"id": "din_basic_037", "category": "increment_decrement", "difficulty": 1, "code": "LDA $14\nSEC\nSBC #$01\nSTA $14", "expected_output": "DEC $14", "metadata": {"description": "Use DEC for subtracting 1 (addr variation: $14)", "task": "optimize"}}
{"id": "din_basic_038", "category": "increment_decrement", "difficulty": 1, "code": "LDA $20\nSEC\nSBC #$01\nSTA $20", "expected_output": "DEC $20", "metadata": {"description": "Use DEC for subtracting 1 (addr variation: $20)", "task": "optimize"}}
{"id": "din_intermediate_039", "category": "loop_optimization", "difficulty": 2, "code": "LDX #$10\nloop:\nLDA $1000,X\nSTA $2000,X\nINX\nCPX #$20\nBNE loop", "expected_output": "LDX #$0F\nloop:\nLDA $1000,X\nSTA $2000,X\nDEX\nBPL loop", "metadata": {"description": "Count down to avoid CPX", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_intermediate_040", "category": "loop_optimization", "difficulty": 2, "code": "LDY #$00\nloop:\nLDA ($10),Y\nSTA $2000,Y\nINY\nCPY #$10\nBNE loop", "expected_output": "LDY #$0F\nloop:\nLDA ($10),Y\nSTA $2000,Y\nDEY\nBPL loop", "metadata": {"description": "Count down for zero-page indirect", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_intermediate_041", "category": "addressing_modes", "difficulty": 2, "code": "LDA #$7E\nPHA\nPLB\nLDA $0000\nPHK\nPLB", "expected_output": "LDA $7E0000", "metadata": {"description": "Use long addressing instead of bank switch", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_intermediate_042", "category": "addressing_modes", "difficulty": 2, "code": "LDA $10\nASL A\nTAX\nLDA table,X", "expected_output": "LDX $10\nLDA table,X\nLDA table+1,X", "metadata": {"description": "Direct index for 16-bit table lookup", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_intermediate_043", "category": "16bit_operations", "difficulty": 2, "code": "SEP #$20\nLDA $10\nSTA $20\nLDA $11\nSTA $21", "expected_output": "REP #$20\nLDA $10\nSTA $20\nSEP #$20", "metadata": {"description": "Use 16-bit mode for word copy", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_intermediate_044", "category": "16bit_operations", "difficulty": 2, "code": "SEP #$20\nSTZ $10\nSTZ $11\nSTZ $12\nSTZ $13", "expected_output": "REP #$20\nSTZ $10\nSTZ $12\nSEP #$20", "metadata": {"description": "Use 16-bit STZ for clearing", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_intermediate_045", "category": "stack_usage", "difficulty": 2, "code": "PHA\nPHX\nPHY\n; code\nPLY\nPLX\nPLA", "expected_output": "PHD\nTSC\nTCD\n; use direct page\nPLD", "metadata": {"description": "Use direct page for temp storage", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_advanced_046", "category": "dma_setup", "difficulty": 3, "code": "LDA #$80\nSTA $2115\nLDA #$01\nSTA $4300\nLDA #$18\nSTA $4301\nLDA #<src\nSTA $4302\nLDA #>src\nSTA $4303\nLDA #^src\nSTA $4304\nLDA #<size\nSTA $4305\nLDA #>size\nSTA $4306\nLDA #$01\nSTA $420B", "expected_output": "REP #$20\nLDA #$1801\nSTA $4300\nLDA #src\nSTA $4302\nLDA #size\nSTA $4305\nSEP #$20\nLDA #^src\nSTA $4304\nLDA #$80\nSTA $2115\nLDA #$01\nSTA $420B", "metadata": {"description": "Use 16-bit stores for DMA setup", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_advanced_047", "category": "hdma_optimization", "difficulty": 3, "code": "; Per-scanline HDMA table with repeated values\ndb $01, $FF\ndb $01, $FF\ndb $01, $FF\ndb $01, $FE", "expected_output": "; HDMA repeat mode\ndb $83, $FF  ; 3 lines at $FF\ndb $01, $FE\ndb $00", "metadata": {"description": "Use HDMA repeat mode for constant values", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_advanced_048", "category": "unrolled_loops", "difficulty": 3, "code": "LDX #$08\nloop:\nLDA $1000,X\nSTA $2000,X\nDEX\nBPL loop", "expected_output": "LDA $1000\nSTA $2000\nLDA $1001\nSTA $2001\nLDA $1002\nSTA $2002\nLDA $1003\nSTA $2003\nLDA $1004\nSTA $2004\nLDA $1005\nSTA $2005\nLDA $1006\nSTA $2006\nLDA $1007\nSTA $2007\nLDA $1008\nSTA $2008", "metadata": {"description": "Unroll small loops to eliminate branch overhead", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_expert_049", "category": "mode7_calc", "difficulty": 4, "code": "; Multiply by cosine table lookup\nLDA angle\nASL A\nTAX\nLDA cos_table,X\nSTA $211B\nLDA cos_table+1,X\nSTA $211C\nLDA pos_x\nSTA $211B\nLDA pos_x+1\nSTA $211C\nLDA $2134\nSTA result\nLDA $2135\nSTA result+1", "expected_output": "; Use hardware multiplier with signed extension\nREP #$30\nLDA angle\nAND #$00FF\nASL A\nTAX\nLDA cos_table,X\nSEP #$20\nSTA $211B\nXBA\nSTA $211C\nLDA pos_x\nSTA $211B\nLDA pos_x+1\nSTA $211C\nREP #$20\nLDA $2134\nSTA result\nSEP #$20", "metadata": {"description": "Optimize mode 7 matrix calculation", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_expert_050", "category": "audio_streaming", "difficulty": 4, "code": "; Wait for APU ready\nwait:\nLDA $2140\nCMP #$AA\nBNE wait\n; Send byte\nLDA sample\nSTA $2140\n; Wait for echo\nwait2:\nLDA $2140\nCMP sample\nBNE wait2", "expected_output": "; Block transfer to APU\nLDA #<block\nSTA $4302\nLDA #>block\nSTA $4303\nLDA #^block\nSTA $4304\nLDA #<size\nSTA $4305\nLDA #>size\nSTA $4306\n; Use IPL block transfer\nLDA #$CC\nSTA $2140", "metadata": {"description": "Use APU IPL block transfer instead of byte-by-byte", "task": "optimize"}, "expected_metrics": {}}
{"id": "din_synth_051", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $10\nLDA #$00\nSTA $11", "expected_output": "STZ $10\nSTZ $11", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_052", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $10\nLDA #$01\nSTA $11", "expected_output": "LDA #$01\nSTA $10\nSTA $11", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_053", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$10\nSTA $10\nLDA #$10\nSTA $11", "expected_output": "LDA #$10\nSTA $10\nSTA $11", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_054", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $12\nLDA #$00\nSTA $13", "expected_output": "STZ $12\nSTZ $13", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_055", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $12\nLDA #$01\nSTA $13", "expected_output": "LDA #$01\nSTA $12\nSTA $13", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_056", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$10\nSTA $12\nLDA #$10\nSTA $13", "expected_output": "LDA #$10\nSTA $12\nSTA $13", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_057", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $14\nLDA #$00\nSTA $15", "expected_output": "STZ $14\nSTZ $15", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_058", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $14\nLDA #$01\nSTA $15", "expected_output": "LDA #$01\nSTA $14\nSTA $15", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_059", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$10\nSTA $14\nLDA #$10\nSTA $15", "expected_output": "LDA #$10\nSTA $14\nSTA $15", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_060", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $20\nLDA #$00\nSTA $21", "expected_output": "STZ $20\nSTZ $21", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_061", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $20\nLDA #$01\nSTA $21", "expected_output": "LDA #$01\nSTA $20\nSTA $21", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_062", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$10\nSTA $20\nLDA #$10\nSTA $21", "expected_output": "LDA #$10\nSTA $20\nSTA $21", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_063", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $22\nLDA #$00\nSTA $23", "expected_output": "STZ $22\nSTZ $23", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_064", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $22\nLDA #$01\nSTA $23", "expected_output": "LDA #$01\nSTA $22\nSTA $23", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_065", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$10\nSTA $22\nLDA #$10\nSTA $23", "expected_output": "LDA #$10\nSTA $22\nSTA $23", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_066", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $30\nLDA #$00\nSTA $31", "expected_output": "STZ $30\nSTZ $31", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_067", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $30\nLDA #$01\nSTA $31", "expected_output": "LDA #$01\nSTA $30\nSTA $31", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_068", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$10\nSTA $30\nLDA #$10\nSTA $31", "expected_output": "LDA #$10\nSTA $30\nSTA $31", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_069", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $40\nLDA #$00\nSTA $41", "expected_output": "STZ $40\nSTZ $41", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_070", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $40\nLDA #$01\nSTA $41", "expected_output": "LDA #$01\nSTA $40\nSTA $41", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_071", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$10\nSTA $40\nLDA #$10\nSTA $41", "expected_output": "LDA #$10\nSTA $40\nSTA $41", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_072", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$00\nSTA $50\nLDA #$00\nSTA $51", "expected_output": "STZ $50\nSTZ $51", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_073", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$01\nSTA $50\nLDA #$01\nSTA $51", "expected_output": "LDA #$01\nSTA $50\nSTA $51", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_synth_074", "category": "redundant_loads", "difficulty": 1, "code": "LDA #$10\nSTA $50\nLDA #$10\nSTA $51", "expected_output": "LDA #$10\nSTA $50\nSTA $51", "metadata": {"description": "Synthetic redundant load pattern", "task": "optimize"}}
{"id": "din_mode_075", "category": "register_mode", "difficulty": 1, "code": "SEP #$20\nSEP #$10", "expected_output": "SEP #$30", "metadata": {"description": "Combine 8-bit mode switches", "task": "optimize"}}
{"id": "din_mode_076", "category": "register_mode", "difficulty": 1, "code": "REP #$20\nREP #$10", "expected_output": "REP #$30", "metadata": {"description": "Combine 16-bit mode switches", "task": "optimize"}}
{"id": "din_mode_077", "category": "register_mode", "difficulty": 1, "code": "SEP #$20\nNOP\nSEP #$20", "expected_output": "SEP #$20\nNOP", "metadata": {"description": "Remove redundant SEP", "task": "optimize"}}
{"id": "din_mode_078", "category": "register_mode", "difficulty": 1, "code": "REP #$20\nLDA $10\nREP #$20", "expected_output": "REP #$20\nLDA $10", "metadata": {"description": "Remove redundant REP", "task": "optimize"}}
{"id": "din_inc_079", "category": "increment_decrement", "difficulty": 1, "code": "LDA $10\nCLC\nADC #$01\nSTA $10", "expected_output": "INC $10", "metadata": {"description": "Use INC instead of LDA/ADC/STA", "task": "optimize"}}
{"id": "din_dec_080", "category": "increment_decrement", "difficulty": 1, "code": "LDA $10\nSEC\nSBC #$01\nSTA $10", "expected_output": "DEC $10", "metadata": {"description": "Use DEC instead of LDA/SBC/STA", "task": "optimize"}}
{"id": "din_inc_081", "category": "increment_decrement", "difficulty": 1, "code": "LDA $12\nCLC\nADC #$01\nSTA $12", "expected_output": "INC $12", "metadata": {"description": "Use INC instead of LDA/ADC/STA", "task": "optimize"}}
{"id": "din_dec_082", "category": "increment_decrement", "difficulty": 1, "code": "LDA $12\nSEC\nSBC #$01\nSTA $12", "expected_output": "DEC $12", "metadata": {"description": "Use DEC instead of LDA/SBC/STA", "task": "optimize"}}
{"id": "din_inc_083", "category": "increment_decrement", "difficulty": 1, "code": "LDA $14\nCLC\nADC #$01\nSTA $14", "expected_output": "INC $14", "metadata": {"description": "Use INC instead of LDA/ADC/STA", "task": "optimize"}}
{"id": "din_dec_084", "category": "increment_decrement", "difficulty": 1, "code": "LDA $14\nSEC\nSBC #$01\nSTA $14", "expected_output": "DEC $14", "metadata": {"description": "Use DEC instead of LDA/SBC/STA", "task": "optimize"}}
{"id": "din_inc_085", "category": "increment_decrement", "difficulty": 1, "code": "LDA $20\nCLC\nADC #$01\nSTA $20", "expected_output": "INC $20", "metadata": {"description": "Use INC instead of LDA/ADC/STA", "task": "optimize"}}
{"id": "din_dec_086", "category": "increment_decrement", "difficulty": 1, "code": "LDA $20\nSEC\nSBC #$01\nSTA $20", "expected_output": "DEC $20", "metadata": {"description": "Use DEC instead of LDA/SBC/STA", "task": "optimize"}}
{"id": "din_inc_087", "category": "increment_decrement", "difficulty": 1, "code": "LDA $22\nCLC\nADC #$01\nSTA $22", "expected_output": "INC $22", "metadata": {"description": "Use INC instead of LDA/ADC/STA", "task": "optimize"}}
{"id": "din_dec_088", "category": "increment_decrement", "difficulty": 1, "code": "LDA $22\nSEC\nSBC #$01\nSTA $22", "expected_output": "DEC $22", "metadata": {"description": "Use DEC instead of LDA/SBC/STA", "task": "optimize"}}
{"id": "din_loop_089", "category": "loop_optimization", "difficulty": 2, "code": "LDX #$00\nloop:\nLDA $1000,X\nSTA $2000,X\nINX\nCPX #$08\nBNE loop", "expected_output": "LDX #$07\nloop:\nLDA $1000,X\nSTA $2000,X\nDEX\nBPL loop", "metadata": {"description": "Count down to avoid CPX (size=8)", "task": "optimize"}}
{"id": "din_loop_090", "category": "loop_optimization", "difficulty": 2, "code": "LDX #$00\nloop:\nLDA $1000,X\nSTA $2000,X\nINX\nCPX #$10\nBNE loop", "expected_output": "LDX #$0F\nloop:\nLDA $1000,X\nSTA $2000,X\nDEX\nBPL loop", "metadata": {"description": "Count down to avoid CPX (size=16)", "task": "optimize"}}
{"id": "din_loop_091", "category": "loop_optimization", "difficulty": 2, "code": "LDX #$00\nloop:\nLDA $1000,X\nSTA $2000,X\nINX\nCPX #$20\nBNE loop", "expected_output": "LDX #$1F\nloop:\nLDA $1000,X\nSTA $2000,X\nDEX\nBPL loop", "metadata": {"description": "Count down to avoid CPX (size=32)", "task": "optimize"}}
{"id": "din_loop_092", "category": "loop_optimization", "difficulty": 2, "code": "LDX #$00\nloop:\nLDA $1000,X\nSTA $2000,X\nINX\nCPX #$40\nBNE loop", "expected_output": "LDX #$3F\nloop:\nLDA $1000,X\nSTA $2000,X\nDEX\nBPL loop", "metadata": {"description": "Count down to avoid CPX (size=64)", "task": "optimize"}}
{"id": "din_mult_093", "category": "multiplication", "difficulty": 2, "code": "ASL A\nASL A\nASL A", "expected_output": "ASL A\nASL A\nASL A", "metadata": {"description": "Multiply by 8 via shifts", "task": "optimize"}}
{"id": "din_mult_094", "category": "multiplication", "difficulty": 2, "code": "LDA $10\nASL A\nCLC\nADC $10", "expected_output": "LDA $10\nSTA $00\nASL A\nADC $00", "metadata": {"description": "Multiply by 3", "task": "optimize"}}
{"id": "din_mult_095", "category": "multiplication", "difficulty": 2, "code": "LDA $10\nASL A\nASL A\nCLC\nADC $10", "expected_output": "LDA $10\nSTA $00\nASL A\nASL A\nADC $00", "metadata": {"description": "Multiply by 5", "task": "optimize"}}
{"id": "din_mult_096", "category": "multiplication", "difficulty": 2, "code": "LDA $10\nASL A\nASL A\nASL A\nSEC\nSBC $10", "expected_output": "LDA $10\nSTA $00\nASL A\nASL A\nASL A\nSBC $00", "metadata": {"description": "Multiply by 7", "task": "optimize"}}
{"id": "din_branch_097", "category": "branch_optimization", "difficulty": 1, "code": "CMP #$00\nBEQ label", "expected_output": "BEQ label", "metadata": {"description": "CMP #$00 redundant before BEQ", "task": "optimize"}}
{"id": "din_branch_098", "category": "branch_optimization", "difficulty": 1, "code": "CMP #$00\nBNE label", "expected_output": "BNE label", "metadata": {"description": "CMP #$00 redundant before BNE", "task": "optimize"}}
{"id": "din_branch_099", "category": "branch_optimization", "difficulty": 1, "code": "LDA $10\nCMP #$00\nBEQ label", "expected_output": "LDA $10\nBEQ label", "metadata": {"description": "LDA sets Z flag", "task": "optimize"}}
{"id": "din_branch_100", "category": "branch_optimization", "difficulty": 1, "code": "LDA $10\nCMP #$00\nBNE label", "expected_output": "LDA $10\nBNE label", "metadata": {"description": "LDA sets Z flag", "task": "optimize"}}
{"id": "din_branch_101", "category": "branch_optimization", "difficulty": 1, "code": "AND #$FF\nBNE label", "expected_output": "BNE label", "metadata": {"description": "AND #$FF is identity", "task": "optimize"}}
{"id": "din_branch_102", "category": "branch_optimization", "difficulty": 1, "code": "ORA #$00\nBNE label", "expected_output": "BNE label", "metadata": {"description": "ORA #$00 is identity", "task": "optimize"}}
{"id": "din_branch_103", "category": "branch_optimization", "difficulty": 1, "code": "EOR #$00\nBNE label", "expected_output": "BNE label", "metadata": {"description": "EOR #$00 is identity", "task": "optimize"}}
{"id": "din_branch_104", "category": "branch_optimization", "difficulty": 1, "code": "ASL A\nLSR A\nBNE label", "expected_output": "AND #$FE\nBNE label", "metadata": {"description": "Shift pair clears bit 0", "task": "optimize"}}
{"id": "din_addr_105", "category": "addressing_mode", "difficulty": 2, "code": "LDA $7E0000", "expected_output": "LDA $0000", "metadata": {"description": "Use absolute instead of long for bank $7E", "task": "optimize"}}
{"id": "din_addr_106", "category": "addressing_mode", "difficulty": 2, "code": "STA $7E0010", "expected_output": "STA $10", "metadata": {"description": "Use zero page for low addresses", "task": "optimize"}}
{"id": "din_addr_107", "category": "addressing_mode", "difficulty": 2, "code": "LDA #$00\nLDA $10,X", "expected_output": "LDA $10,X", "metadata": {"description": "Redundant LDA before indexed", "task": "optimize"}}
{"id": "din_addr_108", "category": "addressing_mode", "difficulty": 2, "code": "TXA\nTAY\nLDA table,Y", "expected_output": "LDA table,X", "metadata": {"description": "Use X directly for index", "task": "optimize"}}
{"id": "din_addr_109", "category": "addressing_mode", "difficulty": 2, "code": "PHA\nTXA\nTAY\nPLA\nLDA table,Y", "expected_output": "LDA table,X", "metadata": {"description": "Complex index transfer", "task": "optimize"}}
{"id": "din_word_110", "category": "16bit_optimization", "difficulty": 2, "code": "LDA $10\nSTA $20\nLDA $11\nSTA $21", "expected_output": "REP #$20\nLDA $10\nSTA $20\nSEP #$20", "metadata": {"description": "Use 16-bit copy", "task": "optimize"}}
{"id": "din_word_111", "category": "16bit_optimization", "difficulty": 2, "code": "STZ $10\nSTZ $11", "expected_output": "REP #$20\nSTZ $10\nSEP #$20", "metadata": {"description": "Use 16-bit STZ", "task": "optimize"}}
{"id": "din_word_112", "category": "16bit_optimization", "difficulty": 2, "code": "LDA $10\nCLC\nADC $12\nSTA $14\nLDA $11\nADC $13\nSTA $15", "expected_output": "REP #$20\nCLC\nLDA $10\nADC $12\nSTA $14\nSEP #$20", "metadata": {"description": "Use 16-bit add", "task": "optimize"}}
{"id": "din_word_113", "category": "16bit_optimization", "difficulty": 2, "code": "INC $10\nBNE +\nINC $11\n+", "expected_output": "REP #$20\nINC $10\nSEP #$20", "metadata": {"description": "Use 16-bit increment", "task": "optimize"}}
{"id": "din_word_114", "category": "16bit_optimization", "difficulty": 2, "code": "LDA $10\nORA $11\nBNE label", "expected_output": "REP #$20\nLDA $10\nSEP #$20\nBNE label", "metadata": {"description": "16-bit zero check", "task": "optimize"}}
{"id": "din_stack_115", "category": "stack_optimization", "difficulty": 1, "code": "PHA\nPLA", "expected_output": "", "metadata": {"description": "Push/pull with no use", "task": "optimize"}}
{"id": "din_stack_116", "category": "stack_optimization", "difficulty": 1, "code": "PHA\nTAX\nPLA", "expected_output": "TAX", "metadata": {"description": "Save A around transfer", "task": "optimize"}}
{"id": "din_stack_117", "category": "stack_optimization", "difficulty": 1, "code": "PHA\nPHX\nPLX\nPLA", "expected_output": "PHA\nPLA", "metadata": {"description": "Unnecessary X push", "task": "optimize"}}
{"id": "din_stack_118", "category": "stack_optimization", "difficulty": 1, "code": "PHP\nCLC\nPLP", "expected_output": "CLC", "metadata": {"description": "Unnecessary processor save", "task": "optimize"}}
{"id": "din_stack_119", "category": "stack_optimization", "difficulty": 1, "code": "PHA\nLDA $10\nSTA $20\nPLA", "expected_output": "LDA $10\nSTA $20", "metadata": {"description": "A not needed after", "task": "optimize"}}
{"id": "din_dead_120", "category": "dead_code", "difficulty": 1, "code": "LDA $10\nLDA $11", "expected_output": "LDA $11", "metadata": {"description": "First LDA overwritten", "task": "optimize"}}
{"id": "din_dead_121", "category": "dead_code", "difficulty": 1, "code": "STA $10\nSTA $10", "expected_output": "STA $10", "metadata": {"description": "Duplicate store", "task": "optimize"}}
{"id": "din_dead_122", "category": "dead_code", "difficulty": 1, "code": "STZ $10\nLDA #$00\nSTA $10", "expected_output": "STZ $10", "metadata": {"description": "Store zero twice", "task": "optimize"}}
{"id": "din_dead_123", "category": "dead_code", "difficulty": 1, "code": "INC $10\nDEC $10", "expected_output": "", "metadata": {"description": "Increment then decrement", "task": "optimize"}}
{"id": "din_dead_124", "category": "dead_code", "difficulty": 1, "code": "SEC\nCLC\nADC $10", "expected_output": "CLC\nADC $10", "metadata": {"description": "SEC overwritten by CLC", "task": "optimize"}}
{"id": "din_dead_125", "category": "dead_code", "difficulty": 1, "code": "REP #$20\nSEP #$20\nLDA $10", "expected_output": "LDA $10", "metadata": {"description": "Mode switch cancelled", "task": "optimize"}}
{"id": "din_dead_126", "category": "dead_code", "difficulty": 1, "code": "NOP\nNOP\nNOP", "expected_output": "", "metadata": {"description": "Remove NOPs", "task": "optimize"}}
{"id": "din_strength_127", "category": "strength_reduction", "difficulty": 1, "code": "LDA $10\nCLC\nADC #$01\nSTA $10", "expected_output": "INC $10", "metadata": {"description": "ADC #$01 to INC", "task": "optimize"}}
{"id": "din_strength_128", "category": "strength_reduction", "difficulty": 1, "code": "LDA $10\nSEC\nSBC #$01\nSTA $10", "expected_output": "DEC $10", "metadata": {"description": "SBC #$01 to DEC", "task": "optimize"}}
{"id": "din_strength_129", "category": "strength_reduction", "difficulty": 1, "code": "LDA $10\nASL A\nSTA $10", "expected_output": "ASL $10", "metadata": {"description": "In-memory shift", "task": "optimize"}}
{"id": "din_strength_130", "category": "strength_reduction", "difficulty": 1, "code": "LDA $10\nLSR A\nSTA $10", "expected_output": "LSR $10", "metadata": {"description": "In-memory shift right", "task": "optimize"}}
{"id": "din_strength_131", "category": "strength_reduction", "difficulty": 1, "code": "LDA $10\nROL A\nSTA $10", "expected_output": "ROL $10", "metadata": {"description": "In-memory rotate", "task": "optimize"}}
{"id": "din_strength_132", "category": "strength_reduction", "difficulty": 1, "code": "LDX $10\nINX\nSTX $10", "expected_output": "INC $10", "metadata": {"description": "Via X to INC", "task": "optimize"}}
{"id": "din_strength_133", "category": "strength_reduction", "difficulty": 1, "code": "LDY $10\nDEY\nSTY $10", "expected_output": "DEC $10", "metadata": {"description": "Via Y to DEC", "task": "optimize"}}
{"id": "din_oracle_134", "category": "oracle_sprite_movement", "difficulty": 3, "code": "LDA.w SprXSpeed, X\nCLC\nADC.w SprX, X\nSTA.w SprX, X", "expected_output": "Sprite_MoveHoriz:\n{\n  LDA.w SprXSpeed, X : BEQ .no_velocity\n    ASL #4 : CLC : ADC.w SprXRound, X : STA.w SprXRound, X\n    LDY.b #$00\n    LDA.w SprXSpeed, X\n    PHP : LSR #4 : PLP : BPL ++\n      ORA.b #$F0\n      DEY\n    ++\n    ADC.w SprX, X : STA.w SprX, X\n    TYA : ADC.w SprXH, X : STA.w SprXH, X\n  .no_velocity\n  RTL\n}", "metadata": {"description": "Sub-pixel precision movement with carry propagation", "task": "optimize", "source": "oracle-of-secrets"}}
{"id": "din_oracle_135", "category": "oracle_loop_unrolling", "difficulty": 3, "code": "LDX #$FF\n.loop\n  LDA.w menu_frame, X\n  STA.w $1000, X\n  DEX\n  BPL .loop", "expected_output": "REP #$30\nLDX.w #$FE\n.loop\n  LDA.w menu_frame, X : STA.w $1000, X\n  LDA.w menu_frame+$100, X : STA.w $1100, X\n  LDA.w menu_frame+$200, X : STA.w $1200, X\n  LDA.w menu_frame+$300, X : STA.w $1300, X\n  DEX : DEX\nBPL .loop", "metadata": {"description": "8x unrolled loop eliminates branch overhead", "task": "optimize", "source": "oracle-of-secrets"}}
{"id": "din_oracle_136", "category": "oracle_speed_inversion", "difficulty": 3, "code": "LDA.w SprXSpeed, X\nSTA $00\nLDA #$00\nSEC\nSBC $00\nSTA.w SprXSpeed, X", "expected_output": "LDA.w SprXSpeed, X\nEOR.b #$FF : INC A\nSTA.w SprXSpeed, X", "metadata": {"description": "Two's complement inversion (XOR + INC)", "task": "optimize", "source": "oracle-of-secrets"}}
